{"ast":null,"code":"// eslint-disable-next-line vue/no-export-in-script-setup\nimport request from \"@/utils/request\";\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: \"Header\",\n\n  data() {\n    return {\n      user: sessionStorage.getItem(\"user\") ? JSON.parse(sessionStorage.getItem(\"user\")) : {},\n      user2: {}\n    };\n  },\n\n  methods: {\n    get() {\n      request.get(\"/user\").then(res => {\n        let user = JSON.parse(sessionStorage.getItem(\"user\"));\n\n        for (let data in res.data.records) {\n          if (res.data.records[data].id === user[\"id\"]) {\n            this.user2 = res.data.records[data];\n          }\n        }\n      });\n    },\n\n    logout() {\n      this.$router.push(\"/login\");\n      sessionStorage.removeItem(\"user\");\n      this.$message.success(\"退出成功\");\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAkCA;AACA,OAAOA,OAAP,MAAoB,iBAApB;AAEA,eAAe;AAEb;AACAC,MAAI,EAAE,QAHO;;AAKbC,MAAI,GAAG;AACL,WAAO;AACLC,UAAI,EAAEC,cAAc,CAACC,OAAf,CAAuB,MAAvB,IAAiCC,IAAI,CAACC,KAAL,CAAWH,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAX,CAAjC,GAA8E,EAD/E;AAELG,WAAK,EAAC;AAFD,KAAP;AAGE,GATS;;AAWbC,SAAO,EAAC;AACNC,OAAG,GAAE;AACHV,aAAO,CAACU,GAAR,CAAY,OAAZ,EACEC,IADF,CACOC,GAAG,IAAE;AACV,YAAIT,IAAI,GAACG,IAAI,CAACC,KAAL,CAAWH,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAX,CAAT;;AACA,aAAI,IAAIH,IAAR,IAAgBU,GAAG,CAACV,IAAJ,CAASW,OAAzB,EAAiC;AAC/B,cAAGD,GAAG,CAACV,IAAJ,CAASW,OAAT,CAAiBX,IAAjB,EAAuBY,EAAvB,KAA4BX,IAAI,CAAC,IAAD,CAAnC,EAA0C;AACxC,iBAAKK,KAAL,GAAWI,GAAG,CAACV,IAAJ,CAASW,OAAT,CAAiBX,IAAjB,CAAX;AACF;AACF;AACD,OARD;AASD,KAXK;;AAaNa,UAAM,GAAG;AACP,WAAKC,OAAL,CAAaC,IAAb,CAAkB,QAAlB;AACAb,oBAAc,CAACc,UAAf,CAA0B,MAA1B;AACA,WAAKC,QAAL,CAAcC,OAAd,CAAsB,MAAtB;AACF;;AAjBM;AAXK,CAAf","names":["request","name","data","user","sessionStorage","getItem","JSON","parse","user2","methods","get","then","res","records","id","logout","$router","push","removeItem","$message","success"],"sourceRoot":"","sources":["D:\\JLSource\\软工实践2\\sept2-mars\\前端\\vue-demo01\\src\\components\\Header.vue"],"sourcesContent":["<template>\r\n  <div style=\"height: 50px;line-height: 50px;border-bottom: 1px solid #ccc;display: flex\">\r\n    <div style=\"width: 200px;padding-left: 30px;font-weight: bold;color: dodgerblue\">迷宫小游戏-巨洞探险</div>\r\n    <div style=\"flex: 1\"></div>\r\n      <div>\r\n        <el-button @click=\"get\">金币：{{user2.gold}}</el-button>\r\n        <el-button @click=\"get\">体力：{{user2.coin}}</el-button>\r\n      </div>\r\n      <div style=\"padding-left: 10px; padding-top:10px\">\r\n        <el-avatar shape=\"square\" :size=\"30\" :fit=\"'fill'\" :src=\"'https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg'\"></el-avatar>\r\n      </div>\r\n    <div style=\"width: 120px\">\r\n      <el-dropdown style=\"padding-top: 20px\">\r\n    <span class=\"el-dropdown-link\">\r\n    {{ user.name }}\r\n\r\n      <el-icon class=\"el-icon--right\">\r\n<!--\r\n        <arrow-down />\r\n-->\r\n      </el-icon>\r\n    </span>\r\n        <template #dropdown>\r\n        <el-dropdown-menu>\r\n            <el-dropdown-item @click=\"logout\">退出</el-dropdown-item>\r\n       </el-dropdown-menu>\r\n\r\n        </template>\r\n      </el-dropdown>\r\n     </div>\r\n  </div>\r\n</template>\r\n\r\n<script >\r\n// eslint-disable-next-line vue/no-export-in-script-setup\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n\r\n  // eslint-disable-next-line vue/multi-word-component-names\r\n  name: \"Header\",\r\n\r\n  data() {\r\n    return {\r\n      user: sessionStorage.getItem(\"user\") ? JSON.parse(sessionStorage.getItem(\"user\")) : {},\r\n      user2:{}\r\n    }},\r\n\r\n  methods:{\r\n    get(){\r\n      request.get(\"/user\"\r\n      ).then(res=>{\r\n        let user=JSON.parse(sessionStorage.getItem(\"user\"))\r\n        for(let data in res.data.records){\r\n          if(res.data.records[data].id===user[\"id\"]){\r\n            this.user2=res.data.records[data]\r\n          }\r\n        }\r\n      })\r\n    },\r\n\r\n    logout() {\r\n      this.$router.push(\"/login\")\r\n      sessionStorage.removeItem(\"user\")\r\n      this.$message.success(\"退出成功\")\r\n    }\r\n  },\r\n}\r\n\r\n\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.demo-tabs > {\r\n  padding: 32px;\r\n  color: #6b778c;\r\n  font-size: 32px;\r\n  font-weight: 600;\r\n}\r\n\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}