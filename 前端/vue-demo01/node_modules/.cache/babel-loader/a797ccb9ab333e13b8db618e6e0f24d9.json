{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createCommentVNode as _createCommentVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3614b62c\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"a\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"Room\");\n\nconst _hoisted_3 = {\n  class: \"b\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\"WEST \");\n\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\"EAST \");\n\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"NORTH\");\n\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\"SOUTH\");\n\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\"BACK\");\n\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\"TAKE\");\n\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\"rule\");\n\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"恭喜你，获得了离开洞穴的钥匙，并离开了洞穴\", -1\n/* HOISTED */\n));\n\nconst _hoisted_12 = {\n  class: \"dialog-footer\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_createTextVNode(\" 确定 \");\n\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"你体力不支，倒在了洞穴里\", -1\n/* HOISTED */\n));\n\nconst _hoisted_15 = {\n  class: \"dialog-footer\"\n};\n\nconst _hoisted_16 = /*#__PURE__*/_createTextVNode(\" 确定 \");\n\nexport function render(_ctx, _cache) {\n  const _component_Header = _resolveComponent(\"Header\");\n\n  const _component_el_image = _resolveComponent(\"el-image\");\n\n  const _component_el_descriptions_item = _resolveComponent(\"el-descriptions-item\");\n\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n\n  const _component_el_descriptions = _resolveComponent(\"el-descriptions\");\n\n  const _component_el_button = _resolveComponent(\"el-button\");\n\n  const _component_el_row = _resolveComponent(\"el-row\");\n\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", null, [_createVNode(_component_Header)]), _createVNode(_component_el_image, {\n    style: {\n      \"width\": \"90%\",\n      \"height\": \"80%\"\n    },\n    src: _ctx.url\n  }, null, 8\n  /* PROPS */\n  , [\"src\"]), _createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_el_descriptions, {\n    title: \"\",\n    column: 3,\n    border: \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_descriptions_item, {\n      label: \"房间名\",\n      \"label-align\": \"right\",\n      align: \"center\",\n      \"label-class-name\": \"my-label\",\n      \"class-name\": \"my-content\",\n      width: \"150px\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.location), 1\n      /* TEXT */\n      )]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_descriptions_item, {\n      label: \"gold\",\n      \"label-align\": \"right\",\n      align: \"center\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.gold), 1\n      /* TEXT */\n      )]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_descriptions_item, {\n      label: \"cost\",\n      \"label-align\": \"right\",\n      align: \"center\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.cost), 1\n      /* TEXT */\n      )]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_descriptions_item, {\n      label: \"Remarks\",\n      \"label-align\": \"right\",\n      align: \"center\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_tag, {\n        size: \"small\"\n      }, {\n        default: _withCtx(() => [_hoisted_2]),\n        _: 1\n        /* STABLE */\n\n      })]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_descriptions_item, {\n      label: \"房间描述信息\",\n      \"label-align\": \"right\",\n      align: \"center\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.descriptions), 1\n      /* TEXT */\n      )]),\n      _: 1\n      /* STABLE */\n\n    })]),\n    _: 1\n    /* STABLE */\n\n  })]), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_row, {\n    class: \"mb-4\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_button, {\n      type: \"success\",\n      plain: \"\",\n      onClick: _cache[0] || (_cache[0] = $event => _ctx.move(0, -1))\n    }, {\n      default: _withCtx(() => [_hoisted_4]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_button, {\n      type: \"success\",\n      plain: \"\",\n      onClick: _cache[1] || (_cache[1] = $event => _ctx.move(0, 1))\n    }, {\n      default: _withCtx(() => [_hoisted_5]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_button, {\n      type: \"success\",\n      plain: \"\",\n      onClick: _cache[2] || (_cache[2] = $event => _ctx.move(-1, 0))\n    }, {\n      default: _withCtx(() => [_hoisted_6]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_button, {\n      type: \"success\",\n      plain: \"\",\n      onClick: _cache[3] || (_cache[3] = $event => _ctx.move(1, 0))\n    }, {\n      default: _withCtx(() => [_hoisted_7]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_button, {\n      type: \"success\",\n      plain: \"\",\n      onClick: _ctx.back\n    }, {\n      default: _withCtx(() => [_hoisted_8]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"onClick\"]), _createVNode(_component_el_button, {\n      type: \"warning\",\n      plain: \"\",\n      onClick: _ctx.take\n    }, {\n      default: _withCtx(() => [_hoisted_9]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"onClick\"]), _createVNode(_component_el_button, {\n      type: \"primary\",\n      plain: \"\",\n      onClick: _ctx.open\n    }, {\n      default: _withCtx(() => [_hoisted_10]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"onClick\"]), _createCommentVNode(\"        <el-button type=\\\"primary\\\" plain @click=\\\"open\\\">SAVE</el-button>\")]),\n    _: 1\n    /* STABLE */\n\n  })]), _createElementVNode(\"div\", null, [_createVNode(_component_el_dialog, {\n    modelValue: _ctx.dialogVisible3,\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => _ctx.dialogVisible3 = $event),\n    title: \"巨洞出口\",\n    width: \"30%\",\n    \"before-close\": _ctx.handleClose\n  }, {\n    footer: _withCtx(() => [_createElementVNode(\"span\", _hoisted_12, [_createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: _cache[4] || (_cache[4] = $event => _ctx.gameWin())\n    }, {\n      default: _withCtx(() => [_hoisted_13]),\n      _: 1\n      /* STABLE */\n\n    })])]),\n    default: _withCtx(() => [_hoisted_11]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"modelValue\", \"before-close\"]), _createVNode(_component_el_dialog, {\n    modelValue: _ctx.dialogVisible4,\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => _ctx.dialogVisible4 = $event),\n    title: \"game over\",\n    width: \"30%\",\n    \"before-close\": _ctx.handleClose\n  }, {\n    footer: _withCtx(() => [_createElementVNode(\"span\", _hoisted_15, [_createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: _cache[6] || (_cache[6] = $event => _ctx.gameOver())\n    }, {\n      default: _withCtx(() => [_hoisted_16]),\n      _: 1\n      /* STABLE */\n\n    })])]),\n    default: _withCtx(() => [_hoisted_14]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"modelValue\", \"before-close\"])])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","_createVNode","_component_Header","_component_el_image","style","src","_ctx","_component_el_descriptions","title","column","border","_component_el_descriptions_item","label","align","width","_component_el_tag","size","_component_el_row","_component_el_button","type","plain","onClick","_createCommentVNode","_component_el_dialog","$event","footer","_hoisted_11","_hoisted_14"],"sourceRoot":"","sources":["D:\\JLSource\\软工实践2\\sept2-mars\\前端\\vue-demo01\\src\\views\\Game.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <Header />\r\n  </div>\r\n\r\n  <el-image style=\"width: 90%; height:80%\" :src=\"url\" />\r\n\r\n  <div class=\"a\">\r\n  <el-descriptions title=\"\" :column=\"3\" border>\r\n    <el-descriptions-item\r\n        label=\"房间名\"\r\n        label-align=\"right\"\r\n        align=\"center\"\r\n        label-class-name=\"my-label\"\r\n        class-name=\"my-content\"\r\n        width=\"150px\"\r\n    >{{location}}</el-descriptions-item\r\n    >\r\n    <el-descriptions-item label=\"gold\" label-align=\"right\" align=\"center\"\r\n    >{{gold}}</el-descriptions-item\r\n    >\r\n    <el-descriptions-item label=\"cost\" label-align=\"right\" align=\"center\"\r\n    >{{cost}}</el-descriptions-item\r\n    >\r\n    <el-descriptions-item label=\"Remarks\" label-align=\"right\" align=\"center\">\r\n      <el-tag size=\"small\">Room</el-tag>\r\n    </el-descriptions-item>\r\n    <el-descriptions-item label=\"房间描述信息\" label-align=\"right\" align=\"center\"\r\n    >{{descriptions}}</el-descriptions-item\r\n    >\r\n  </el-descriptions>\r\n  </div>\r\n  <div class=\"b\">\r\n      <el-row class=\"mb-4\">\r\n        <el-button type=\"success\" plain @click=\"move(0,-1)\">WEST </el-button>\r\n        <el-button type=\"success\" plain @click=\"move(0,1)\">EAST </el-button>\r\n        <el-button type=\"success\" plain @click=\"move(-1,0)\">NORTH</el-button>\r\n        <el-button type=\"success\" plain @click=\"move(1,0)\">SOUTH</el-button>\r\n        <el-button type=\"success\" plain @click=\"back\">BACK</el-button>\r\n        <el-button type=\"warning\" plain @click=\"take\">TAKE</el-button>\r\n        <el-button type=\"primary\" plain @click=\"open\">rule</el-button>\r\n<!--        <el-button type=\"primary\" plain @click=\"open\">SAVE</el-button>-->\r\n      </el-row>\r\n  </div>\r\n  <div>\r\n    <el-dialog\r\n        v-model=\"dialogVisible3\"\r\n        title=\"巨洞出口\"\r\n        width=\"30%\"\r\n        :before-close=\"handleClose\"\r\n    >\r\n      <span>恭喜你，获得了离开洞穴的钥匙，并离开了洞穴</span>\r\n      <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"gameWin()\">\r\n          确定\r\n        </el-button>\r\n      </span>\r\n      </template>\r\n    </el-dialog>\r\n      <el-dialog\r\n          v-model=\"dialogVisible4\"\r\n          title=\"game over\"\r\n          width=\"30%\"\r\n          :before-close=\"handleClose\"\r\n      >\r\n        <span>你体力不支，倒在了洞穴里</span>\r\n        <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"gameOver()\">\r\n          确定\r\n        </el-button>\r\n      </span>\r\n        </template>\r\n      </el-dialog>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\nimport Header from \"@/components/Header.vue\";\r\nexport default {\r\n  // eslint-disable-next-line vue/multi-word-component-names\r\n  name: \"product\",\r\n  components: {Header},\r\n  data(){\r\n    return{\r\n      url:'',\r\n      form:{},\r\n      dialogVisible:false,\r\n      dialogVisible2:false,\r\n      dialogVisible3:false,\r\n      dialogVisible4:false,\r\n      currentPage:1,\r\n      pageSize:10,\r\n      total:10,\r\n      search:'',\r\n      tableData:[],\r\n      rooms:[{'name':'outside','id':1,'gold':'1','cost':'-1','descriptions':'outside the main entrance of the colossal cave','picture':'assets/images/outside.jpg','takeflag':0},\r\n        {'name':'theater','id':2,'gold':'2','cost':'-1','descriptions':'in a lecture theater','picture':'assets/images/theater.jpg','takeflag':0},\r\n        {'name':'pub','id':3,'gold':'4','cost':'-3','descriptions':'in the pub','picture':'assets/images/pub.jpg','takeflag':0},\r\n        {'name':'lab','id':4,'gold':'3','cost':'-2','descriptions':'in a computing lab','picture':'assets/images/lab.jpg','takeflag':0},\r\n        {'name':'treasure','id':5,'gold':'5','cost':'-1','descriptions':'in the treasure room, maybe there has some treasure','picture':'assets/images/treasure.jpg','takeflag':0},\r\n        {'name':'randomRoom','id':6,'gold':'0','cost':'0','descriptions':'in a randomRoom','picture':'assets/images/randomroom.jpg','takeflag':1},\r\n        {'name':'exit','id':7,'gold':'0','cost':'0','descriptions':'a way to leave this cave!','picture':'assets/images/exit.jpg','takeflag':0},\r\n        {'name':'corridor','id':8,'gold':'0','cost':'0','descriptions':'a long long corridor with cold wind','picture':'assets/images/corridor.jpg','takeflag':1}],\r\n      items:[{'name':'cookie','id':1,'roomId':5,'descriptions':'增加5体力'},\r\n        {'name':'key','id':2,'roomId':7,'descriptions':'通关的关键物品'}],\r\n      location:'',\r\n      gold:'',\r\n      cost:'',\r\n      descriptions:'',\r\n      id:'',\r\n      lastroom:'',\r\n      powerFlag:false,\r\n      maps:[[1,2,3], [5,6,4], [8,7,0]]\r\n    }\r\n  },\r\n  created() {\r\n    this.load()\r\n  },\r\n  methods:{\r\n    open(){\r\n      this.$notify({\r\n        title: '游戏规则说明',\r\n        message: '巨洞探险：一个精彩的、充满想像力的复杂游戏，包括要在一个复杂的洞穴系统中找到出路、寻找隐藏的财宝、使用暗语和其他一些神秘工具，最终的目的是获得高分。',\r\n        duration: 4500\r\n      });\r\n    },\r\n    getRandomInt1(min, max) {\r\n      min = Math.ceil(min);\r\n      max = Math.floor(max);\r\n      return Math.floor(Math.random() * (max - min)) + min; //不含最大值，含最小值\r\n     },\r\n    load(){\r\n      request.get(\"/user\"\r\n      ).then(res=>{\r\n        this.tableData=res.data.records\r\n        this.total=res.data.total\r\n        let user=JSON.parse(sessionStorage.getItem(\"user\"))\r\n        for(let data in res.data.records){\r\n          if(res.data.records[data].id===user[\"id\"]){\r\n            this.location=res.data.records[data].currentroom\r\n            this.lastroom=res.data.records[data].lastroom\r\n          }\r\n        }\r\n        for(let index in this.rooms){\r\n            let map=this.rooms[index]\r\n            if(map['name']===this.location){\r\n              this.gold=map['gold']\r\n              this.cost=map['cost']\r\n              this.descriptions=\"Now,you are \"+map['descriptions']\r\n              this.id=map['id']\r\n              this.url=require(\"@/\"+this.rooms[this.id-1]['picture'])\r\n          }\r\n        }\r\n        if(this.location===\"randomRoom\"){\r\n          alert(\"您处于随机房间，将会被传送离开\")\r\n          this.portal()\r\n        }\r\n      })\r\n    },\r\n    portal(){\r\n      let a=this.getRandomInt1(1,5)\r\n      switch (a){\r\n        case 1:\r\n          this.move(0,-1)\r\n          break;\r\n        case 2:\r\n          this.move(0,1)\r\n          break;\r\n        case 3:\r\n          this.move(-1,0)\r\n          break;\r\n        case 4:\r\n          this.move(1,0)\r\n          break;\r\n      }\r\n    },\r\n    take(){\r\n      let judgeFlag\r\n      let num\r\n      for(let index in this.rooms){\r\n        if(this.rooms[index].name === this.location){\r\n          judgeFlag=this.rooms[index].takeflag\r\n          num=index\r\n        }\r\n      }\r\n      if(judgeFlag==1) {\r\n        alert(\"房间内无物品可以拿取\")\r\n      }else{\r\n        let oldgold\r\n        let oldcoin\r\n        request.get(\"/user\"\r\n        ).then(res=>{\r\n          let user=JSON.parse(sessionStorage.getItem(\"user\"))\r\n          for(let data in res.data.records){\r\n            if(res.data.records[data].id===user[\"id\"]){\r\n              oldgold=res.data.records[data].gold\r\n              oldcoin=res.data.records[data].coin\r\n            }\r\n          }\r\n          // oldgold=res.data.records[0].gold\r\n          // oldcoin=res.data.records[0].coin\r\n          let gold=(parseInt(oldgold)+parseInt(this.gold)).toString()\r\n          let coin=(parseInt(oldcoin)+parseInt(this.cost)).toString()\r\n\r\n          let mesage=\"gold+\"+this.gold+\"  power\"+this.cost\r\n          for(let index in this.items){\r\n            if(this.items[index].roomId===parseInt(this.id)){\r\n              if(parseInt(coin)<0){\r\n                this.$message({\r\n                  type:\"error\",\r\n                  message:\"您的体力不足\"\r\n                })\r\n                return\r\n              }else{\r\n                coin=(parseInt(coin)+5).toString()\r\n                mesage=mesage+\" you get a\"+this.items[index].name+\"your power +5\"\r\n              }\r\n            }\r\n          }\r\n          let data={\"id\":user[\"id\"],\"name\":user[\"name\"],\"password\":user[\"password\"],\"gender\":user[\"gender\"],\"currentroom\":this.location,\"gold\":gold,\"coin\":coin}\r\n          request.put(\"/user\",data).then(res => {\r\n            console.log(res)\r\n            if(res.code===\"0\"){\r\n              this.$message({\r\n                type:\"success\",\r\n                message:mesage\r\n              })\r\n            }else {\r\n              this.$message({\r\n                type:\"error\",\r\n                message:res.msg\r\n              })\r\n            }\r\n            if(this.location===\"exit\"){\r\n              this.dialogVisible3=true\r\n            }\r\n            this.load()\r\n          })\r\n        })\r\n        judgeFlag=1\r\n        this.rooms[num].takeflag=1\r\n      }\r\n    },\r\n    refresh(){\r\n      let oldgold\r\n      let oldcoin\r\n      request.get(\"/user\"\r\n      ).then(res=>{\r\n        let user=JSON.parse(sessionStorage.getItem(\"user\"))\r\n        for(let data in res.data.records){\r\n          if(res.data.records[data].id===user[\"id\"]){\r\n            oldgold=res.data.records[data].gold\r\n            oldcoin=res.data.records[data].coin\r\n          }\r\n        }\r\n        oldcoin=(parseInt(oldcoin)-1).toString()\r\n        if(parseInt(oldcoin)<=0){\r\n          this.dialogVisible4=true\r\n        }else{\r\n          let data={\"id\":user[\"id\"],\"name\":user[\"name\"],\"password\":user[\"password\"],\"gender\":user[\"gender\"],\"currentroom\":this.location,\"gold\":oldgold,\"coin\":oldcoin,\"lastroom\":this.lastroom}\r\n          request.put(\"/user\",data).then(res => {\r\n            if(res.code===\"0\"){\r\n              this.$message({\r\n                type:\"success\",\r\n                message:\"成功\"\r\n              })\r\n            }else {\r\n              this.$message({\r\n                type:\"error\",\r\n                message:res.msg\r\n              })\r\n            }\r\n            this.load()\r\n          })\r\n        }\r\n      })\r\n    }\r\n    },\r\n    move(deltaX,deltaY){\r\n     let id=this.id\r\n     let x;\r\n     let y;\r\n     for(let i=0;i<3;i++){\r\n       for(let j=0;j<3;j++){\r\n         if(this.maps[i][j]===id){\r\n           x=i;\r\n           y=j;\r\n         }\r\n       }\r\n     }\r\n     for(let index in this.rooms) {\r\n       if(x>=0&&y-1>=0&&x<=2&&y-1<=2&&this.maps[x][y-1]!==0){\r\n         let map = this.rooms[index]\r\n         if (map['id'] === this.maps[x][y]) {\r\n           this.lastroom = map['name']\r\n         }\r\n       }\r\n     }\r\n     let newX=x+deltaX\r\n     let newY=y+deltaY\r\n     if(newX>=0&&newY>=0&&newX<=2&&newY<=2&&this.maps[newX][newY]!==0){\r\n       for(let index in this.rooms){\r\n         let map=this.rooms[index]\r\n         if(map['id']===this.maps[newX][newY]){\r\n           this.location=map['name']\r\n           let oldgold\r\n           let oldcoin\r\n           request.get(\"/user\"\r\n           ).then(res=>{\r\n             let user=JSON.parse(sessionStorage.getItem(\"user\"))\r\n             for(let data in res.data.records){\r\n               if(res.data.records[data].id===user[\"id\"]){\r\n                 oldgold=res.data.records[data].gold\r\n                 oldcoin=res.data.records[data].coin\r\n               }\r\n             }\r\n             oldcoin=(parseInt(oldcoin)-1).toString()\r\n             if(parseInt(oldcoin)<=0){\r\n               this.dialogVisible4=true\r\n             }else{\r\n               let data={\"id\":user[\"id\"],\"name\":user[\"name\"],\"password\":user[\"password\"],\"gender\":user[\"gender\"],\"currentroom\":this.location,\"gold\":oldgold,\"coin\":oldcoin,\"lastroom\":this.lastroom}\r\n               request.put(\"/user\",data).then(res => {\r\n                 if(res.code===\"0\"){\r\n                   this.$message({\r\n                     type:\"success\",\r\n                     message:\"成功\"\r\n                   })\r\n                 }else {\r\n                   this.$message({\r\n                     type:\"error\",\r\n                     message:res.msg\r\n                   })\r\n                 }\r\n                 this.load()\r\n               })\r\n             }\r\n           })\r\n         }\r\n       }\r\n     }else {\r\n       alert(\"此路不通\")\r\n     }\r\n    },\r\n    back(){\r\n      let lastroom = this.lastroom\r\n      this.lastroom=this.location\r\n      this.location=lastroom\r\n      this.refresh()\r\n      /*let oldgold\r\n      let oldcoin\r\n      request.get(\"/user\"\r\n      ).then(res=>{\r\n        let user=JSON.parse(sessionStorage.getItem(\"user\"))\r\n        for(let data in res.data.records){\r\n          if(res.data.records[data].id===user[\"id\"]){\r\n            oldgold=res.data.records[data].gold\r\n            oldcoin=res.data.records[data].coin\r\n          }\r\n        }\r\n        let data={\"id\":user[\"id\"],\"name\":user[\"name\"],\"password\":user[\"password\"],\"gender\":user[\"gender\"],\"currentroom\":this.location,\"gold\":oldgold,\"coin\":oldcoin,\"lastroom\":this.lastroom}\r\n        request.put(\"/user\",data).then(res => {\r\n          if(res.code===\"0\"){\r\n            this.$message({\r\n              type:\"success\",\r\n              message:\"成功\"\r\n            })\r\n          }else {\r\n            this.$message({\r\n              type:\"error\",\r\n              message:res.msg\r\n            })\r\n          }\r\n          this.load()\r\n        })\r\n      })*/\r\n    },\r\n    add(){\r\n      this.dialogVisible=true\r\n      this.form={}\r\n    },\r\n    save(){\r\n      if(this.form.id){\r\n        request.put(\"/user\",this.form).then(res => {\r\n          console.log(res)\r\n          if(res.code===\"0\"){\r\n            this.$message({\r\n              type:\"success\",\r\n              message:\"更新成功\"\r\n            })\r\n          }else {\r\n            this.$message({\r\n              type:\"error\",\r\n              message:res.msg\r\n            })\r\n          }\r\n          this.load()\r\n          this.dialogVisible=false\r\n        })\r\n      }\r\n    },\r\n    // eslint-disable-next-line no-unused-vars\r\n    handleEdit(row){\r\n      this.form = JSON.parse(JSON.stringify(row))\r\n      this.dialogVisible = true\r\n    },\r\n    handleEdit2(){\r\n      this.dialogVisible2 = true\r\n    },\r\n    handleDelete(id){\r\n      request.delete(\"/product/\"+id).then(res=>{\r\n        if(res.code===\"0\"){\r\n          this.$message({\r\n            type:\"success\",\r\n            message:\"删除成功\"\r\n          })\r\n        }else {\r\n          this.$message({\r\n            type:\"error\",\r\n            message:res.msg\r\n          })\r\n        }\r\n        this.load()\r\n      })\r\n    },\r\n    handleSizeChange(pageSize){\r\n      this.pageSize=pageSize\r\n      this.load()\r\n    },\r\n    handleCurrentChange(pageNum){\r\n      this.currentPage=pageNum\r\n      this.load()\r\n    },\r\n    gameWin(){\r\n      this.dialogVisible3 = false\r\n      this.reset()\r\n    },\r\n    gameOver(){\r\n      this.dialogVisible4 = false\r\n      this.reset()\r\n    },\r\n    reset(){\r\n      request.get(\"/user\"\r\n      ).then(res=>{\r\n        let user=JSON.parse(sessionStorage.getItem(\"user\"))\r\n        let oldgold\r\n        let oldcoin\r\n        for(let data in res.data.records){\r\n          if(res.data.records[data].id===user[\"id\"]){\r\n            oldgold=res.data.records[data].gold\r\n            oldcoin=res.data.records[data].coin\r\n          }\r\n        }\r\n        oldgold = \"0\"\r\n        oldcoin = \"20\"\r\n        let data={\"id\":user[\"id\"],\"name\":user[\"name\"],\"password\":user[\"password\"],\"gender\":user[\"gender\"],\"currentroom\":\"outside\",\"gold\":oldgold,\"coin\":oldcoin}\r\n        request.put(\"/user\",data).then(res => {\r\n          console.log(res)\r\n          if(res.code===\"0\"){\r\n            this.$message({\r\n              type:\"success\",\r\n              message:res.msg\r\n            })\r\n          }else {\r\n            this.$message({\r\n              type:\"error\",\r\n              message:res.msg\r\n            })\r\n          }\r\n          this.load()\r\n        })\r\n      })\r\n      for(let index in this.rooms){\r\n        this.rooms[index].takeflag=0\r\n      }\r\n      this.rooms[8].takeflag=1\r\n      this.rooms[6].takeflag=1\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.a{\r\n  margin: auto;\r\n  position: absolute;\r\n  top: 50px;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n.b{\r\n  margin: auto;\r\n  position: absolute;\r\n  top: 160px;\r\n  left: 400px;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}