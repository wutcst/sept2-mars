{"ast":null,"code":"import request from \"@/utils/request\";\nimport Header from \"@/components/Header.vue\";\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: \"product\",\n  components: {\n    Header\n  },\n\n  data() {\n    return {\n      url: '',\n      form: {},\n      dialogVisible: false,\n      dialogVisible2: false,\n      dialogVisible3: false,\n      dialogVisible4: false,\n      currentPage: 1,\n      pageSize: 10,\n      total: 10,\n      search: '',\n      tableData: [],\n      rooms: [{\n        'name': 'outside',\n        'id': 1,\n        'gold': '1',\n        'cost': '-1',\n        'descriptions': 'outside the main entrance of the colossal cave',\n        'picture': 'assets/images/outside.jpg'\n      }, {\n        'name': 'theater',\n        'id': 2,\n        'gold': '2',\n        'cost': '-1',\n        'descriptions': 'in a lecture theater',\n        'picture': 'assets/images/theater.jpg'\n      }, {\n        'name': 'pub',\n        'id': 3,\n        'gold': '4',\n        'cost': '-3',\n        'descriptions': 'in the pub',\n        'picture': 'assets/images/pub.jpg'\n      }, {\n        'name': 'lab',\n        'id': 4,\n        'gold': '3',\n        'cost': '-2',\n        'descriptions': 'in a computing lab',\n        'picture': 'assets/images/lab.jpg'\n      }, {\n        'name': 'treasure',\n        'id': 5,\n        'gold': '5',\n        'cost': '-1',\n        'descriptions': 'in the treasure room, maybe there has some treasure',\n        'picture': 'assets/images/treasure.jpg'\n      }, {\n        'name': 'randomRoom',\n        'id': 6,\n        'gold': '0',\n        'cost': '0',\n        'descriptions': 'in a randomRoom',\n        'picture': 'assets/images/randomroom.jpg'\n      }, {\n        'name': 'exit',\n        'id': 7,\n        'gold': '0',\n        'cost': '0',\n        'descriptions': 'in the exit',\n        'picture': 'assets/images/exit.jpg'\n      }, {\n        'name': 'corridor',\n        'id': 8,\n        'gold': '0',\n        'cost': '0',\n        'descriptions': 'a long long corridor with cold wind',\n        'picture': 'assets/images/corridor.jpg'\n      }],\n      items: [{\n        'name': 'cookie',\n        'id': 1,\n        'roomId': 5,\n        'descriptions': '增加5体力'\n      }, {\n        'name': 'key',\n        'id': 2,\n        'roomId': 7,\n        'descriptions': '通关的关键物品'\n      }],\n      location: '',\n      gold: '',\n      cost: '',\n      descriptions: '',\n      id: '',\n      lastroom: '',\n      takeFlag: false,\n      powerFlag: false,\n      maps: [[1, 2, 3], [5, 6, 4], [8, 7, 0]]\n    };\n  },\n\n  created() {\n    this.load();\n  },\n\n  methods: {\n    open() {\n      this.$notify({\n        title: '游戏规则说明',\n        message: '巨洞探险：一个精彩的、充满想像力的复杂游戏，包括要在一个复杂的洞穴系统中找到出路、寻找隐藏的财宝、使用暗语和其他一些神秘工具，最终的目的是获得高分。',\n        duration: 4500\n      });\n    },\n\n    getRandomInt1(min, max) {\n      min = Math.ceil(min);\n      max = Math.floor(max);\n      return Math.floor(Math.random() * (max - min)) + min; //不含最大值，含最小值\n    },\n\n    load() {\n      request.get(\"/user\").then(res => {\n        this.tableData = res.data.records;\n        this.total = res.data.total;\n        let user = JSON.parse(sessionStorage.getItem(\"user\"));\n\n        for (let data in res.data.records) {\n          if (res.data.records[data].id === user[\"id\"]) {\n            this.location = res.data.records[data].currentroom;\n            this.lastroom = res.data.records[data].lastroom;\n          }\n        }\n\n        for (let index in this.rooms) {\n          let map = this.rooms[index];\n\n          if (map['name'] === this.location) {\n            this.gold = map['gold'];\n            this.cost = map['cost'];\n            this.descriptions = \"Now,you are \" + map['descriptions'];\n            this.id = map['id'];\n            this.url = require(\"@/\" + this.rooms[this.id - 1]['picture']);\n          }\n        }\n\n        if (this.location === \"randomRoom\") {\n          alert(\"您处于随机房间，将会被传送离开\");\n          let a = this.getRandomInt1(1, 5); // alert(a)\n\n          if (a === 1) {\n            this.west();\n          } else if (a === 2) {\n            this.east();\n          } else if (a === 3) {\n            this.north();\n          } else if (a === 4) {\n            this.south();\n          }\n        }\n      });\n    },\n\n    take() {\n      if (this.takeFlag) alert(\"您已经拿过了\");else {\n        this.takeFlag = true; // this.load()\n\n        let oldgold;\n        let oldcoin;\n        request.get(\"/user\").then(res => {\n          let user = JSON.parse(sessionStorage.getItem(\"user\"));\n\n          for (let data in res.data.records) {\n            if (res.data.records[data].id === user[\"id\"]) {\n              oldgold = res.data.records[data].gold;\n              oldcoin = res.data.records[data].coin;\n            }\n          } // oldgold=res.data.records[0].gold\n          // oldcoin=res.data.records[0].coin\n\n\n          let gold = (parseInt(oldgold) + parseInt(this.gold)).toString();\n          let coin = (parseInt(oldcoin) + parseInt(this.cost)).toString();\n          let mesage = \"gold+\" + this.gold + \"  power\" + this.cost;\n\n          for (let index in this.items) {\n            if (this.items[index].roomId === parseInt(this.id)) {\n              if (parseInt(coin) < 0) {\n                this.$message({\n                  type: \"error\",\n                  message: \"您的体力不足\"\n                });\n                return;\n              } else {\n                coin = (parseInt(coin) + 5).toString();\n                mesage = mesage + \" you get a\" + this.items[index].name + \"your power +5\";\n              }\n            }\n          }\n\n          let data = {\n            \"id\": user[\"id\"],\n            \"name\": user[\"name\"],\n            \"password\": user[\"password\"],\n            \"gender\": user[\"gender\"],\n            \"currentroom\": this.location,\n            \"gold\": gold,\n            \"coin\": coin\n          };\n          request.put(\"/user\", data).then(res => {\n            console.log(res);\n\n            if (res.code === \"0\") {\n              this.$message({\n                type: \"success\",\n                message: mesage\n              });\n            } else {\n              this.$message({\n                type: \"error\",\n                message: res.msg\n              });\n            }\n\n            if (this.location === \"exit\") {\n              this.dialogVisible3 = true;\n            }\n\n            this.load();\n          });\n        });\n      }\n    },\n\n    west() {\n      this.takeFlag = false;\n      let id = this.id;\n      let x;\n      let y;\n\n      for (let i = 0; i < 3; i++) {\n        for (let j = 0; j < 3; j++) {\n          if (this.maps[i][j] === id) {\n            x = i;\n            y = j;\n          }\n        }\n      }\n\n      for (let index in this.rooms) {\n        if (x >= 0 && y - 1 >= 0 && x <= 2 && y - 1 <= 2 && this.maps[x][y - 1] !== 0) {\n          let map = this.rooms[index];\n\n          if (map['id'] === this.maps[x][y]) {\n            this.lastroom = map['name'];\n          }\n        }\n      }\n\n      y = y - 1;\n\n      if (x >= 0 && y >= 0 && x <= 2 && y <= 2 && this.maps[x][y] !== 0) {\n        for (let index in this.rooms) {\n          let map = this.rooms[index];\n\n          if (map['id'] === this.maps[x][y]) {\n            this.location = map['name'];\n            let oldgold;\n            let oldcoin;\n            request.get(\"/user\").then(res => {\n              let user = JSON.parse(sessionStorage.getItem(\"user\"));\n\n              for (let data in res.data.records) {\n                if (res.data.records[data].id === user[\"id\"]) {\n                  oldgold = res.data.records[data].gold;\n                  oldcoin = res.data.records[data].coin;\n                }\n              }\n\n              oldcoin = (parseInt(oldcoin) - 1).toString();\n\n              if (parseInt(oldcoin) <= 0) {\n                this.dialogVisible4 = true;\n              } else {\n                let data = {\n                  \"id\": user[\"id\"],\n                  \"name\": user[\"name\"],\n                  \"password\": user[\"password\"],\n                  \"gender\": user[\"gender\"],\n                  \"currentroom\": this.location,\n                  \"gold\": oldgold,\n                  \"coin\": oldcoin,\n                  \"lastroom\": this.lastroom\n                };\n                request.put(\"/user\", data).then(res => {\n                  if (res.code === \"0\") {\n                    this.$message({\n                      type: \"success\",\n                      message: \"成功\"\n                    });\n                  } else {\n                    this.$message({\n                      type: \"error\",\n                      message: res.msg\n                    });\n                  }\n\n                  this.load();\n                });\n              }\n            });\n          }\n        } // this.load()\n\n      } else {\n        alert(\"此路不通\");\n      }\n    },\n\n    east() {\n      this.takeFlag = false;\n      let id = this.id;\n      let x;\n      let y;\n\n      for (let i = 0; i < 3; i++) {\n        for (let j = 0; j < 3; j++) {\n          if (this.maps[i][j] === id) {\n            x = i;\n            y = j;\n          }\n        }\n      }\n\n      for (let index in this.rooms) {\n        if (x >= 0 && y + 1 >= 0 && x <= 2 && y + 1 <= 2 && this.maps[x][y + 1] !== 0) {\n          let map = this.rooms[index];\n\n          if (map['id'] === this.maps[x][y]) {\n            this.lastroom = map['name'];\n          }\n        }\n      }\n\n      y = y + 1;\n\n      if (x >= 0 && y >= 0 && x <= 2 && y <= 2 && this.maps[x][y] !== 0) {\n        for (let index in this.rooms) {\n          let map = this.rooms[index];\n\n          if (map['id'] === this.maps[x][y]) {\n            // this.gold=map['gold']\n            // this.coin=map['coin']\n            // this.descriptions=map['descriptions']\n            this.location = map['name']; // this.id=map['id']\n\n            let oldgold;\n            let oldcoin;\n            request.get(\"/user\").then(res => {\n              let user = JSON.parse(sessionStorage.getItem(\"user\"));\n\n              for (let data in res.data.records) {\n                if (res.data.records[data].id === user[\"id\"]) {\n                  oldgold = res.data.records[data].gold;\n                  oldcoin = res.data.records[data].coin;\n                }\n              }\n\n              oldcoin = (parseInt(oldcoin) - 1).toString();\n\n              if (parseInt(oldcoin) <= 0) {\n                this.dialogVisible4 = true;\n              } else {\n                let data = {\n                  \"id\": user[\"id\"],\n                  \"name\": user[\"name\"],\n                  \"password\": user[\"password\"],\n                  \"gender\": user[\"gender\"],\n                  \"currentroom\": this.location,\n                  \"gold\": oldgold,\n                  \"coin\": oldcoin,\n                  \"lastroom\": this.lastroom\n                };\n                request.put(\"/user\", data).then(res => {\n                  if (res.code === \"0\") {\n                    this.$message({\n                      type: \"success\",\n                      message: \"成功\"\n                    });\n                  } else {\n                    this.$message({\n                      type: \"error\",\n                      message: res.msg\n                    });\n                  }\n\n                  this.load();\n                });\n              }\n            });\n          }\n        } // this.load()\n\n      } else {\n        alert(\"此路不通\");\n      }\n    },\n\n    north() {\n      this.takeFlag = false;\n      let id = this.id;\n      let x;\n      let y;\n\n      for (let i = 0; i < 3; i++) {\n        for (let j = 0; j < 3; j++) {\n          if (this.maps[i][j] === id) {\n            x = i;\n            y = j;\n          }\n        }\n      }\n\n      for (let index in this.rooms) {\n        if (x - 1 >= 0 && y >= 0 && x - 1 <= 2 && y <= 2 && this.maps[x - 1][y] !== 0) {\n          let map = this.rooms[index];\n\n          if (map['id'] === this.maps[x][y]) {\n            this.lastroom = map['name'];\n          }\n        }\n      }\n\n      x = x - 1;\n\n      if (x >= 0 && y >= 0 && x <= 2 && y <= 2 && this.maps[x][y] !== 0) {\n        for (let index in this.rooms) {\n          let map = this.rooms[index];\n\n          if (map['id'] === this.maps[x][y]) {\n            // this.gold=map['gold']\n            // this.coin=map['coin']\n            // this.descriptions=map['descriptions']\n            this.location = map['name']; // this.id=map['id']\n\n            let oldgold;\n            let oldcoin;\n            request.get(\"/user\").then(res => {\n              let user = JSON.parse(sessionStorage.getItem(\"user\"));\n\n              for (let data in res.data.records) {\n                if (res.data.records[data].id === user[\"id\"]) {\n                  oldgold = res.data.records[data].gold;\n                  oldcoin = res.data.records[data].coin;\n                }\n              }\n\n              oldcoin = (parseInt(oldcoin) - 1).toString();\n\n              if (parseInt(oldcoin) <= 0) {\n                this.dialogVisible4 = true;\n              } else {\n                let data = {\n                  \"id\": user[\"id\"],\n                  \"name\": user[\"name\"],\n                  \"password\": user[\"password\"],\n                  \"gender\": user[\"gender\"],\n                  \"currentroom\": this.location,\n                  \"gold\": oldgold,\n                  \"coin\": oldcoin,\n                  \"lastroom\": this.lastroom\n                };\n                request.put(\"/user\", data).then(res => {\n                  if (res.code === \"0\") {\n                    this.$message({\n                      type: \"success\",\n                      message: \"成功\"\n                    });\n                  } else {\n                    this.$message({\n                      type: \"error\",\n                      message: res.msg\n                    });\n                  }\n\n                  this.load();\n                });\n              }\n            });\n          }\n        } // this.load()\n\n      } else {\n        alert(\"此路不通\");\n      }\n    },\n\n    south() {\n      this.takeFlag = false;\n      let id = this.id;\n      let x;\n      let y;\n\n      for (let i = 0; i < 3; i++) {\n        for (let j = 0; j < 3; j++) {\n          if (this.maps[i][j] === id) {\n            x = i;\n            y = j;\n          }\n        }\n      }\n\n      for (let index in this.rooms) {\n        if (x + 1 >= 0 && y >= 0 && x + 1 <= 2 && y <= 2 && this.maps[x + 1][y] !== 0) {\n          let map = this.rooms[index];\n\n          if (map['id'] === this.maps[x][y]) {\n            this.lastroom = map['name'];\n          }\n        }\n      }\n\n      x = x + 1;\n\n      if (x >= 0 && y >= 0 && x <= 2 && y <= 2 && this.maps[x][y] !== 0) {\n        for (let index in this.rooms) {\n          let map = this.rooms[index];\n\n          if (map['id'] === this.maps[x][y]) {\n            // this.gold=map['gold']\n            // this.coin=map['coin']\n            // this.descriptions=map['descriptions']\n            this.location = map['name']; // this.id=map['id']\n\n            let oldgold;\n            let oldcoin;\n            request.get(\"/user\").then(res => {\n              let user = JSON.parse(sessionStorage.getItem(\"user\"));\n\n              for (let data in res.data.records) {\n                if (res.data.records[data].id === user[\"id\"]) {\n                  oldgold = res.data.records[data].gold;\n                  oldcoin = res.data.records[data].coin;\n                }\n              }\n\n              oldcoin = (parseInt(oldcoin) - 1).toString();\n\n              if (parseInt(oldcoin) <= 0) {\n                this.dialogVisible4 = true;\n              } else {\n                let data = {\n                  \"id\": user[\"id\"],\n                  \"name\": user[\"name\"],\n                  \"password\": user[\"password\"],\n                  \"gender\": user[\"gender\"],\n                  \"currentroom\": this.location,\n                  \"gold\": oldgold,\n                  \"coin\": oldcoin,\n                  \"lastroom\": this.lastroom\n                };\n                request.put(\"/user\", data).then(res => {\n                  if (res.code === \"0\") {\n                    this.$message({\n                      type: \"success\",\n                      message: \"成功\"\n                    });\n                  } else {\n                    this.$message({\n                      type: \"error\",\n                      message: res.msg\n                    });\n                  }\n\n                  this.load();\n                });\n              }\n            });\n          }\n        } // this.load()\n\n      } else {\n        alert(\"此路不通\");\n      }\n    },\n\n    back() {\n      let lastroom = this.lastroom;\n      this.lastroom = this.location;\n      this.location = lastroom;\n      let oldgold;\n      let oldcoin;\n      request.get(\"/user\").then(res => {\n        let user = JSON.parse(sessionStorage.getItem(\"user\"));\n\n        for (let data in res.data.records) {\n          if (res.data.records[data].id === user[\"id\"]) {\n            oldgold = res.data.records[data].gold;\n            oldcoin = res.data.records[data].coin;\n          }\n        }\n\n        let data = {\n          \"id\": user[\"id\"],\n          \"name\": user[\"name\"],\n          \"password\": user[\"password\"],\n          \"gender\": user[\"gender\"],\n          \"currentroom\": this.location,\n          \"gold\": oldgold,\n          \"coin\": oldcoin,\n          \"lastroom\": this.lastroom\n        };\n        request.put(\"/user\", data).then(res => {\n          if (res.code === \"0\") {\n            this.$message({\n              type: \"success\",\n              message: \"成功\"\n            });\n          } else {\n            this.$message({\n              type: \"error\",\n              message: res.msg\n            });\n          }\n\n          this.load();\n        });\n      });\n    },\n\n    add() {\n      this.dialogVisible = true;\n      this.form = {};\n    },\n\n    save() {\n      if (this.form.id) {\n        request.put(\"/user\", this.form).then(res => {\n          console.log(res);\n\n          if (res.code === \"0\") {\n            this.$message({\n              type: \"success\",\n              message: \"更新成功\"\n            });\n          } else {\n            this.$message({\n              type: \"error\",\n              message: res.msg\n            });\n          }\n\n          this.load();\n          this.dialogVisible = false;\n        });\n      }\n    },\n\n    // eslint-disable-next-line no-unused-vars\n    handleEdit(row) {\n      this.form = JSON.parse(JSON.stringify(row));\n      this.dialogVisible = true;\n    },\n\n    handleEdit2() {\n      this.dialogVisible2 = true;\n    },\n\n    handleDelete(id) {\n      request.delete(\"/product/\" + id).then(res => {\n        if (res.code === \"0\") {\n          this.$message({\n            type: \"success\",\n            message: \"删除成功\"\n          });\n        } else {\n          this.$message({\n            type: \"error\",\n            message: res.msg\n          });\n        }\n\n        this.load();\n      });\n    },\n\n    handleSizeChange(pageSize) {\n      this.pageSize = pageSize;\n      this.load();\n    },\n\n    handleCurrentChange(pageNum) {\n      this.currentPage = pageNum;\n      this.load();\n    },\n\n    gameWin() {\n      this.dialogVisible3 = false;\n      this.reset();\n    },\n\n    gameOver() {\n      this.dialogVisible4 = false;\n      this.reset();\n    },\n\n    reset() {\n      this.takeFlag = false;\n      request.get(\"/user\").then(res => {\n        let user = JSON.parse(sessionStorage.getItem(\"user\"));\n        let oldgold;\n        let oldcoin;\n\n        for (let data in res.data.records) {\n          if (res.data.records[data].id === user[\"id\"]) {\n            oldgold = res.data.records[data].gold;\n            oldcoin = res.data.records[data].coin;\n          }\n        }\n\n        oldgold = \"0\";\n        oldcoin = \"20\";\n        let data = {\n          \"id\": user[\"id\"],\n          \"name\": user[\"name\"],\n          \"password\": user[\"password\"],\n          \"gender\": user[\"gender\"],\n          \"currentroom\": \"outside\",\n          \"gold\": oldgold,\n          \"coin\": oldcoin\n        };\n        request.put(\"/user\", data).then(res => {\n          console.log(res);\n\n          if (res.code === \"0\") {\n            this.$message({\n              type: \"success\",\n              message: res.msg\n            });\n          } else {\n            this.$message({\n              type: \"error\",\n              message: res.msg\n            });\n          }\n\n          this.load();\n        });\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["request","Header","name","components","data","url","form","dialogVisible","dialogVisible2","dialogVisible3","dialogVisible4","currentPage","pageSize","total","search","tableData","rooms","items","location","gold","cost","descriptions","id","lastroom","takeFlag","powerFlag","maps","created","load","methods","open","$notify","title","message","duration","getRandomInt1","min","max","Math","ceil","floor","random","get","then","res","records","user","JSON","parse","sessionStorage","getItem","currentroom","index","map","require","alert","a","west","east","north","south","take","oldgold","oldcoin","coin","parseInt","toString","mesage","roomId","$message","type","put","console","log","code","msg","x","y","i","j","back","add","save","handleEdit","row","stringify","handleEdit2","handleDelete","delete","handleSizeChange","handleCurrentChange","pageNum","gameWin","reset","gameOver"],"sourceRoot":"","sources":["D:\\JLSource\\软工实践2\\sept2-mars\\前端\\vue-demo01\\src\\views\\Game.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <Header />\r\n  </div>\r\n\r\n  <el-image style=\"width: 90%; height:80%\" :src=\"url\" />\r\n\r\n  <div class=\"a\">\r\n  <el-descriptions title=\"\" :column=\"3\" border>\r\n    <el-descriptions-item\r\n        label=\"房间名\"\r\n        label-align=\"right\"\r\n        align=\"center\"\r\n        label-class-name=\"my-label\"\r\n        class-name=\"my-content\"\r\n        width=\"150px\"\r\n    >{{location}}</el-descriptions-item\r\n    >\r\n    <el-descriptions-item label=\"gold\" label-align=\"right\" align=\"center\"\r\n    >{{gold}}</el-descriptions-item\r\n    >\r\n    <el-descriptions-item label=\"cost\" label-align=\"right\" align=\"center\"\r\n    >{{cost}}</el-descriptions-item\r\n    >\r\n    <el-descriptions-item label=\"Remarks\" label-align=\"right\" align=\"center\">\r\n      <el-tag size=\"small\">Room</el-tag>\r\n    </el-descriptions-item>\r\n    <el-descriptions-item label=\"房间描述信息\" label-align=\"right\" align=\"center\"\r\n    >{{descriptions}}</el-descriptions-item\r\n    >\r\n  </el-descriptions>\r\n  </div>\r\n  <div class=\"b\">\r\n      <el-row class=\"mb-4\">\r\n        <el-button type=\"success\" plain @click=\"west\">WEST </el-button>\r\n        <el-button type=\"success\" plain @click=\"east\">EAST </el-button>\r\n        <el-button type=\"success\" plain @click=\"north\">NORTH</el-button>\r\n        <el-button type=\"success\" plain @click=\"south\">SOUTH</el-button>\r\n        <el-button type=\"success\" plain @click=\"back\">BACK</el-button>\r\n        <el-button type=\"warning\" plain @click=\"take\">TAKE</el-button>\r\n        <el-button type=\"primary\" plain @click=\"open\">rule</el-button>\r\n<!--        <el-button type=\"primary\" plain @click=\"open\">SAVE</el-button>-->\r\n      </el-row>\r\n  </div>\r\n  <div>\r\n    <el-dialog\r\n        v-model=\"dialogVisible3\"\r\n        title=\"巨洞出口\"\r\n        width=\"30%\"\r\n        :before-close=\"handleClose\"\r\n    >\r\n      <span>恭喜你，获得了离开洞穴的钥匙，并离开了洞穴</span>\r\n      <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"gameWin()\">\r\n          确定\r\n        </el-button>\r\n      </span>\r\n      </template>\r\n    </el-dialog>\r\n      <el-dialog\r\n          v-model=\"dialogVisible4\"\r\n          title=\"game over\"\r\n          width=\"30%\"\r\n          :before-close=\"handleClose\"\r\n      >\r\n        <span>你体力不支，倒在了洞穴里</span>\r\n        <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"gameOver()\">\r\n          确定\r\n        </el-button>\r\n      </span>\r\n        </template>\r\n      </el-dialog>\r\n  </div>\r\n\r\n<!--  <el-empty-->\r\n<!--      image=\"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png\"-->\r\n<!--  >-->\r\n<!--  </el-empty>-->\r\n<!--  <div class=\"demo-image\">-->\r\n<!--      <el-image style=\"width: 100px; height: 100px\" :src=\"url\" />-->\r\n<!--  </div>-->\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\nimport Header from \"@/components/Header.vue\";\r\nexport default {\r\n  // eslint-disable-next-line vue/multi-word-component-names\r\n  name: \"product\",\r\n  components: {Header},\r\n  data(){\r\n    return{\r\n      url:'',\r\n      form:{},\r\n      dialogVisible:false,\r\n      dialogVisible2:false,\r\n      dialogVisible3:false,\r\n      dialogVisible4:false,\r\n      currentPage:1,\r\n      pageSize:10,\r\n      total:10,\r\n      search:'',\r\n      tableData:[],\r\n      rooms:[{'name':'outside','id':1,'gold':'1','cost':'-1','descriptions':'outside the main entrance of the colossal cave','picture':'assets/images/outside.jpg'},\r\n        {'name':'theater','id':2,'gold':'2','cost':'-1','descriptions':'in a lecture theater','picture':'assets/images/theater.jpg'},\r\n        {'name':'pub','id':3,'gold':'4','cost':'-3','descriptions':'in the pub','picture':'assets/images/pub.jpg'},\r\n        {'name':'lab','id':4,'gold':'3','cost':'-2','descriptions':'in a computing lab','picture':'assets/images/lab.jpg'},\r\n        {'name':'treasure','id':5,'gold':'5','cost':'-1','descriptions':'in the treasure room, maybe there has some treasure','picture':'assets/images/treasure.jpg'},\r\n        {'name':'randomRoom','id':6,'gold':'0','cost':'0','descriptions':'in a randomRoom','picture':'assets/images/randomroom.jpg'},\r\n        {'name':'exit','id':7,'gold':'0','cost':'0','descriptions':'in the exit','picture':'assets/images/exit.jpg'},\r\n        {'name':'corridor','id':8,'gold':'0','cost':'0','descriptions':'a long long corridor with cold wind','picture':'assets/images/corridor.jpg'}],\r\n      items:[{'name':'cookie','id':1,'roomId':5,'descriptions':'增加5体力'},\r\n        {'name':'key','id':2,'roomId':7,'descriptions':'通关的关键物品'}],\r\n      location:'',\r\n      gold:'',\r\n      cost:'',\r\n      descriptions:'',\r\n      id:'',\r\n      lastroom:'',\r\n      takeFlag:false,\r\n      powerFlag:false,\r\n      maps:[[1,2,3], [5,6,4], [8,7,0]]\r\n    }\r\n  },\r\n  created() {\r\n    this.load()\r\n  },\r\n  methods:{\r\n    open(){\r\n      this.$notify({\r\n        title: '游戏规则说明',\r\n        message: '巨洞探险：一个精彩的、充满想像力的复杂游戏，包括要在一个复杂的洞穴系统中找到出路、寻找隐藏的财宝、使用暗语和其他一些神秘工具，最终的目的是获得高分。',\r\n        duration: 4500\r\n      });\r\n    },\r\n    getRandomInt1(min, max) {\r\n      min = Math.ceil(min);\r\n      max = Math.floor(max);\r\n      return Math.floor(Math.random() * (max - min)) + min; //不含最大值，含最小值\r\n     },\r\n    load(){\r\n      request.get(\"/user\"\r\n      ).then(res=>{\r\n        this.tableData=res.data.records\r\n        this.total=res.data.total\r\n        let user=JSON.parse(sessionStorage.getItem(\"user\"))\r\n        for(let data in res.data.records){\r\n          if(res.data.records[data].id===user[\"id\"]){\r\n            this.location=res.data.records[data].currentroom\r\n            this.lastroom=res.data.records[data].lastroom\r\n          }\r\n        }\r\n        for(let index in this.rooms){\r\n            let map=this.rooms[index]\r\n            if(map['name']===this.location){\r\n              this.gold=map['gold']\r\n              this.cost=map['cost']\r\n              this.descriptions=\"Now,you are \"+map['descriptions']\r\n              this.id=map['id']\r\n              this.url=require(\"@/\"+this.rooms[this.id-1]['picture'])\r\n          }\r\n        }\r\n        if(this.location===\"randomRoom\"){\r\n          alert(\"您处于随机房间，将会被传送离开\")\r\n          let a=this.getRandomInt1(1,5)\r\n          // alert(a)\r\n          if(a===1){\r\n            this.west()\r\n          }else if(a===2){\r\n            this.east()\r\n          }else if(a===3){\r\n            this.north()\r\n          }else if(a===4){\r\n            this.south()\r\n          }\r\n        }\r\n      })\r\n    },\r\n    take(){\r\n      if(this.takeFlag)\r\n        alert(\"您已经拿过了\")\r\n      else{\r\n        this.takeFlag=true\r\n        // this.load()\r\n        let oldgold\r\n        let oldcoin\r\n        request.get(\"/user\"\r\n        ).then(res=>{\r\n          let user=JSON.parse(sessionStorage.getItem(\"user\"))\r\n          for(let data in res.data.records){\r\n            if(res.data.records[data].id===user[\"id\"]){\r\n              oldgold=res.data.records[data].gold\r\n              oldcoin=res.data.records[data].coin\r\n            }\r\n          }\r\n          // oldgold=res.data.records[0].gold\r\n          // oldcoin=res.data.records[0].coin\r\n          let gold=(parseInt(oldgold)+parseInt(this.gold)).toString()\r\n          let coin=(parseInt(oldcoin)+parseInt(this.cost)).toString()\r\n\r\n          let mesage=\"gold+\"+this.gold+\"  power\"+this.cost\r\n          for(let index in this.items){\r\n            if(this.items[index].roomId===parseInt(this.id)){\r\n              if(parseInt(coin)<0){\r\n                this.$message({\r\n                  type:\"error\",\r\n                  message:\"您的体力不足\"\r\n                })\r\n                return\r\n              }else{\r\n                coin=(parseInt(coin)+5).toString()\r\n                mesage=mesage+\" you get a\"+this.items[index].name+\"your power +5\"\r\n              }\r\n            }\r\n          }\r\n          let data={\"id\":user[\"id\"],\"name\":user[\"name\"],\"password\":user[\"password\"],\"gender\":user[\"gender\"],\"currentroom\":this.location,\"gold\":gold,\"coin\":coin}\r\n          request.put(\"/user\",data).then(res => {\r\n            console.log(res)\r\n            if(res.code===\"0\"){\r\n              this.$message({\r\n                type:\"success\",\r\n                message:mesage\r\n              })\r\n            }else {\r\n              this.$message({\r\n                type:\"error\",\r\n                message:res.msg\r\n              })\r\n            }\r\n            if(this.location===\"exit\"){\r\n              this.dialogVisible3=true\r\n\r\n            }\r\n            this.load()\r\n          })\r\n        })\r\n\r\n      }\r\n    },\r\n    west(){\r\n      this.takeFlag = false\r\n      let id=this.id\r\n      let x;\r\n      let y;\r\n      for(let i=0;i<3;i++){\r\n        for(let j=0;j<3;j++){\r\n          if(this.maps[i][j]===id){\r\n            x=i;\r\n            y=j;\r\n          }\r\n        }\r\n      }\r\n      for(let index in this.rooms) {\r\n        if(x>=0&&y-1>=0&&x<=2&&y-1<=2&&this.maps[x][y-1]!==0){\r\n          let map = this.rooms[index]\r\n          if (map['id'] === this.maps[x][y]) {\r\n            this.lastroom = map['name']\r\n          }\r\n        }\r\n      }\r\n\r\n      y=y-1\r\n      if(x>=0&&y>=0&&x<=2&&y<=2&&this.maps[x][y]!==0){\r\n        for(let index in this.rooms){\r\n          let map=this.rooms[index]\r\n          if(map['id']===this.maps[x][y]){\r\n            this.location=map['name']\r\n            let oldgold\r\n            let oldcoin\r\n            request.get(\"/user\"\r\n            ).then(res=>{\r\n              let user=JSON.parse(sessionStorage.getItem(\"user\"))\r\n              for(let data in res.data.records){\r\n                if(res.data.records[data].id===user[\"id\"]){\r\n                  oldgold=res.data.records[data].gold\r\n                  oldcoin=res.data.records[data].coin\r\n                }\r\n              }\r\n              oldcoin=(parseInt(oldcoin)-1).toString()\r\n              if(parseInt(oldcoin)<=0){\r\n                this.dialogVisible4=true\r\n              }else{\r\n\r\n                let data={\"id\":user[\"id\"],\"name\":user[\"name\"],\"password\":user[\"password\"],\"gender\":user[\"gender\"],\"currentroom\":this.location,\"gold\":oldgold,\"coin\":oldcoin,\"lastroom\":this.lastroom}\r\n                request.put(\"/user\",data).then(res => {\r\n                  if(res.code===\"0\"){\r\n                    this.$message({\r\n                      type:\"success\",\r\n                      message:\"成功\"\r\n                    })\r\n                  }else {\r\n                    this.$message({\r\n                      type:\"error\",\r\n                      message:res.msg\r\n                    })\r\n                  }\r\n                  this.load()\r\n                })\r\n              }\r\n            })\r\n          }\r\n        }\r\n        // this.load()\r\n      }else {\r\n        alert(\"此路不通\")\r\n      }\r\n\r\n\r\n    },\r\n    east(){\r\n      this.takeFlag = false\r\n\r\n      let id=this.id\r\n      let x;\r\n      let y;\r\n      for(let i=0;i<3;i++){\r\n        for(let j=0;j<3;j++){\r\n          if(this.maps[i][j]===id){\r\n            x=i;\r\n            y=j;\r\n          }\r\n        }\r\n      }\r\n      for(let index in this.rooms) {\r\n        if(x>=0&&y+1>=0&&x<=2&&y+1<=2&&this.maps[x][y+1]!==0){\r\n          let map = this.rooms[index]\r\n          if (map['id'] === this.maps[x][y]) {\r\n            this.lastroom = map['name']\r\n          }\r\n        }\r\n      }\r\n      y=y+1\r\n      if(x>=0&&y>=0&&x<=2&&y<=2&&this.maps[x][y]!==0){\r\n        for(let index in this.rooms){\r\n          let map=this.rooms[index]\r\n          if(map['id']===this.maps[x][y]){\r\n            // this.gold=map['gold']\r\n            // this.coin=map['coin']\r\n            // this.descriptions=map['descriptions']\r\n            this.location=map['name']\r\n            // this.id=map['id']\r\n            let oldgold\r\n            let oldcoin\r\n            request.get(\"/user\"\r\n            ).then(res=>{\r\n              let user=JSON.parse(sessionStorage.getItem(\"user\"))\r\n              for(let data in res.data.records){\r\n                if(res.data.records[data].id===user[\"id\"]){\r\n                  oldgold=res.data.records[data].gold\r\n                  oldcoin=res.data.records[data].coin\r\n                }\r\n              }\r\n              oldcoin=(parseInt(oldcoin)-1).toString()\r\n              if(parseInt(oldcoin)<=0){\r\n                this.dialogVisible4=true\r\n              }else{\r\n                let data={\"id\":user[\"id\"],\"name\":user[\"name\"],\"password\":user[\"password\"],\"gender\":user[\"gender\"],\"currentroom\":this.location,\"gold\":oldgold,\"coin\":oldcoin,\"lastroom\":this.lastroom}\r\n                request.put(\"/user\",data).then(res => {\r\n                  if(res.code===\"0\"){\r\n                    this.$message({\r\n                      type:\"success\",\r\n                      message:\"成功\"\r\n                    })\r\n                  }else {\r\n                    this.$message({\r\n                      type:\"error\",\r\n                      message:res.msg\r\n                    })\r\n                  }\r\n                  this.load()\r\n                })\r\n              }\r\n            })\r\n          }\r\n        }\r\n        // this.load()\r\n      }else {\r\n        alert(\"此路不通\")\r\n      }\r\n\r\n    },\r\n    north(){\r\n      this.takeFlag = false\r\n\r\n      let id=this.id\r\n      let x;\r\n      let y;\r\n      for(let i=0;i<3;i++){\r\n        for(let j=0;j<3;j++){\r\n          if(this.maps[i][j]===id){\r\n            x=i;\r\n            y=j;\r\n          }\r\n        }\r\n      }\r\n      for(let index in this.rooms) {\r\n        if(x-1>=0&&y>=0&&x-1<=2&&y<=2&&this.maps[x-1][y]!==0){\r\n          let map = this.rooms[index]\r\n          if (map['id'] === this.maps[x][y]) {\r\n            this.lastroom = map['name']\r\n          }\r\n        }\r\n      }\r\n      x=x-1\r\n      if(x>=0&&y>=0&&x<=2&&y<=2&&this.maps[x][y]!==0){\r\n        for(let index in this.rooms){\r\n          let map=this.rooms[index]\r\n          if(map['id']===this.maps[x][y]){\r\n            // this.gold=map['gold']\r\n            // this.coin=map['coin']\r\n            // this.descriptions=map['descriptions']\r\n            this.location=map['name']\r\n            // this.id=map['id']\r\n            let oldgold\r\n            let oldcoin\r\n            request.get(\"/user\"\r\n            ).then(res=>{\r\n              let user=JSON.parse(sessionStorage.getItem(\"user\"))\r\n              for(let data in res.data.records){\r\n                if(res.data.records[data].id===user[\"id\"]){\r\n                  oldgold=res.data.records[data].gold\r\n                  oldcoin=res.data.records[data].coin\r\n                }\r\n              }\r\n              oldcoin=(parseInt(oldcoin)-1).toString()\r\n              if(parseInt(oldcoin)<=0){\r\n                this.dialogVisible4=true\r\n              }else{\r\n                let data={\"id\":user[\"id\"],\"name\":user[\"name\"],\"password\":user[\"password\"],\"gender\":user[\"gender\"],\"currentroom\":this.location,\"gold\":oldgold,\"coin\":oldcoin,\"lastroom\":this.lastroom}\r\n                request.put(\"/user\",data).then(res => {\r\n                  if(res.code===\"0\"){\r\n                    this.$message({\r\n                      type:\"success\",\r\n                      message:\"成功\"\r\n                    })\r\n                  }else {\r\n                    this.$message({\r\n                      type:\"error\",\r\n                      message:res.msg\r\n                    })\r\n                  }\r\n                  this.load()\r\n                })\r\n              }\r\n\r\n            })\r\n          }\r\n        }\r\n        // this.load()\r\n      }else {\r\n        alert(\"此路不通\")\r\n      }\r\n\r\n    },\r\n    south(){\r\n      this.takeFlag = false\r\n\r\n      let id=this.id\r\n      let x;\r\n      let y;\r\n      for(let i=0;i<3;i++){\r\n        for(let j=0;j<3;j++){\r\n          if(this.maps[i][j]===id){\r\n            x=i;\r\n            y=j;\r\n          }\r\n        }\r\n      }\r\n      for(let index in this.rooms) {\r\n        if(x+1>=0&&y>=0&&x+1<=2&&y<=2&&this.maps[x+1][y]!==0){\r\n          let map = this.rooms[index]\r\n          if (map['id'] === this.maps[x][y]) {\r\n            this.lastroom = map['name']\r\n          }\r\n        }\r\n      }\r\n      x=x+1\r\n      if(x>=0&&y>=0&&x<=2&&y<=2&&this.maps[x][y]!==0){\r\n        for(let index in this.rooms){\r\n          let map=this.rooms[index]\r\n          if(map['id']===this.maps[x][y]){\r\n            // this.gold=map['gold']\r\n            // this.coin=map['coin']\r\n            // this.descriptions=map['descriptions']\r\n            this.location=map['name']\r\n            // this.id=map['id']\r\n            let oldgold\r\n            let oldcoin\r\n            request.get(\"/user\"\r\n            ).then(res=>{\r\n              let user=JSON.parse(sessionStorage.getItem(\"user\"))\r\n              for(let data in res.data.records){\r\n                if(res.data.records[data].id===user[\"id\"]){\r\n                  oldgold=res.data.records[data].gold\r\n                  oldcoin=res.data.records[data].coin\r\n                }\r\n              }\r\n              oldcoin=(parseInt(oldcoin)-1).toString()\r\n              if(parseInt(oldcoin)<=0){\r\n                this.dialogVisible4=true\r\n              }else{\r\n                let data={\"id\":user[\"id\"],\"name\":user[\"name\"],\"password\":user[\"password\"],\"gender\":user[\"gender\"],\"currentroom\":this.location,\"gold\":oldgold,\"coin\":oldcoin,\"lastroom\":this.lastroom}\r\n                request.put(\"/user\",data).then(res => {\r\n                  if(res.code===\"0\"){\r\n                    this.$message({\r\n                      type:\"success\",\r\n                      message:\"成功\"\r\n                    })\r\n                  }else {\r\n                    this.$message({\r\n                      type:\"error\",\r\n                      message:res.msg\r\n                    })\r\n                  }\r\n                  this.load()\r\n                })\r\n              }\r\n\r\n            })\r\n          }\r\n        }\r\n        // this.load()\r\n      }else {\r\n        alert(\"此路不通\")\r\n      }\r\n\r\n    },\r\n    back(){\r\n      let lastroom = this.lastroom\r\n      this.lastroom=this.location\r\n      this.location=lastroom\r\n      let oldgold\r\n      let oldcoin\r\n      request.get(\"/user\"\r\n      ).then(res=>{\r\n        let user=JSON.parse(sessionStorage.getItem(\"user\"))\r\n        for(let data in res.data.records){\r\n          if(res.data.records[data].id===user[\"id\"]){\r\n            oldgold=res.data.records[data].gold\r\n            oldcoin=res.data.records[data].coin\r\n          }\r\n        }\r\n        let data={\"id\":user[\"id\"],\"name\":user[\"name\"],\"password\":user[\"password\"],\"gender\":user[\"gender\"],\"currentroom\":this.location,\"gold\":oldgold,\"coin\":oldcoin,\"lastroom\":this.lastroom}\r\n        request.put(\"/user\",data).then(res => {\r\n          if(res.code===\"0\"){\r\n            this.$message({\r\n              type:\"success\",\r\n              message:\"成功\"\r\n            })\r\n          }else {\r\n            this.$message({\r\n              type:\"error\",\r\n              message:res.msg\r\n            })\r\n          }\r\n          this.load()\r\n        })\r\n      })\r\n    },\r\n    add(){\r\n      this.dialogVisible=true\r\n      this.form={}\r\n    },\r\n    save(){\r\n      if(this.form.id){\r\n        request.put(\"/user\",this.form).then(res => {\r\n          console.log(res)\r\n          if(res.code===\"0\"){\r\n            this.$message({\r\n              type:\"success\",\r\n              message:\"更新成功\"\r\n            })\r\n          }else {\r\n            this.$message({\r\n              type:\"error\",\r\n              message:res.msg\r\n            })\r\n          }\r\n          this.load()\r\n          this.dialogVisible=false\r\n        })\r\n      }\r\n    },\r\n    // eslint-disable-next-line no-unused-vars\r\n    handleEdit(row){\r\n      this.form = JSON.parse(JSON.stringify(row))\r\n      this.dialogVisible = true\r\n    },\r\n    handleEdit2(){\r\n      this.dialogVisible2 = true\r\n    },\r\n    handleDelete(id){\r\n      request.delete(\"/product/\"+id).then(res=>{\r\n        if(res.code===\"0\"){\r\n          this.$message({\r\n            type:\"success\",\r\n            message:\"删除成功\"\r\n          })\r\n        }else {\r\n          this.$message({\r\n            type:\"error\",\r\n            message:res.msg\r\n          })\r\n        }\r\n        this.load()\r\n      })\r\n    },\r\n    handleSizeChange(pageSize){\r\n      this.pageSize=pageSize\r\n      this.load()\r\n    },\r\n    handleCurrentChange(pageNum){\r\n      this.currentPage=pageNum\r\n      this.load()\r\n    },\r\n    gameWin(){\r\n      this.dialogVisible3 = false\r\n      this.reset()\r\n    },\r\n    gameOver(){\r\n      this.dialogVisible4 = false\r\n      this.reset()\r\n    },\r\n    reset(){\r\n      this.takeFlag=false\r\n      request.get(\"/user\"\r\n      ).then(res=>{\r\n        let user=JSON.parse(sessionStorage.getItem(\"user\"))\r\n        let oldgold\r\n        let oldcoin\r\n        for(let data in res.data.records){\r\n          if(res.data.records[data].id===user[\"id\"]){\r\n            oldgold=res.data.records[data].gold\r\n            oldcoin=res.data.records[data].coin\r\n          }\r\n        }\r\n        oldgold = \"0\"\r\n        oldcoin = \"20\"\r\n        let data={\"id\":user[\"id\"],\"name\":user[\"name\"],\"password\":user[\"password\"],\"gender\":user[\"gender\"],\"currentroom\":\"outside\",\"gold\":oldgold,\"coin\":oldcoin}\r\n        request.put(\"/user\",data).then(res => {\r\n          console.log(res)\r\n          if(res.code===\"0\"){\r\n            this.$message({\r\n              type:\"success\",\r\n              message:res.msg\r\n            })\r\n          }else {\r\n            this.$message({\r\n              type:\"error\",\r\n              message:res.msg\r\n            })\r\n          }\r\n          this.load()\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.a{\r\n  margin: auto;\r\n  position: absolute;\r\n  top: 50px;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n.b{\r\n  margin: auto;\r\n  position: absolute;\r\n  top: 160px;\r\n  left: 400px;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}