{"ast":null,"code":"import { Avatar, Lock } from '@element-plus/icons-vue';\nimport { ElMessage } from \"element-plus\";\nimport request from \"@/utils/request\";\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: \"Login\",\n  components: {\n    Avatar,\n    Lock\n  },\n\n  data() {\n    return {\n      form: {},\n      rules: {\n        name: [{\n          required: true,\n          message: '请输入昵称',\n          trigger: 'blur'\n        }, {\n          min: 1,\n          max: 80,\n          message: '长度在一到八十位之间',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }, {\n          min: 1,\n          max: 10,\n          message: '长度在六到八位之间',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n\n  methods: {\n    login() {\n      this.$refs[\"form\"].validate(valid => {\n        if (valid) {\n          request.post(\"http://localhost:9090/user/login?name=\" + this.form.name + \"&password=\" + this.form.password).then(res => {\n            if (res.code === '0') {\n              ElMessage({\n                message: '登录成功',\n                type: 'success'\n              });\n              sessionStorage.setItem(\"user\", JSON.stringify(res.data)); //缓存用户信息\n\n              this.$router.push(\"/Product\"); // 页面跳转\n            } else {\n              ElMessage({\n                message: res.msg,\n                type: 'error'\n              });\n            }\n          });\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA6BA,SAAQA,MAAR,EAAeC,IAAf,QAA0B,yBAA1B;AACA,SAAQC,SAAR,QAAwB,cAAxB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AACA,eAAe;AACb;AACAC,MAAI,EAAE,OAFO;AAGbC,YAAU,EAAE;AACVL,UADU;AAEVC;AAFU,GAHC;;AAObK,MAAI,GAAG;AACL,WAAO;AACLC,UAAI,EAAE,EADD;AAELC,WAAK,EAAE;AACLJ,YAAI,EAAE,CACJ;AACEK,kBAAQ,EAAE,IADZ;AAEEC,iBAAO,EAAE,OAFX;AAGEC,iBAAO,EAAE;AAHX,SADI,EAMJ;AACEC,aAAG,EAAE,CADP;AAEEC,aAAG,EAAE,EAFP;AAGEH,iBAAO,EAAE,YAHX;AAIEC,iBAAO,EAAE;AAJX,SANI,CADD;AAcLG,gBAAQ,EAAE,CACR;AACEL,kBAAQ,EAAE,IADZ;AAEEC,iBAAO,EAAE,OAFX;AAGEC,iBAAO,EAAE;AAHX,SADQ,EAOR;AACEC,aAAG,EAAE,CADP;AAEEC,aAAG,EAAE,EAFP;AAGEH,iBAAO,EAAE,WAHX;AAIEC,iBAAO,EAAE;AAJX,SAPQ;AAdL;AAFF,KAAP;AAgCD,GAxCY;;AAyCbI,SAAO,EAAE;AACPC,SAAK,GAAG;AACN,WAAKC,KAAL,CAAW,MAAX,EAAmBC,QAAnB,CAA6BC,KAAD,IAAW;AACrC,YAAIA,KAAJ,EAAW;AACThB,iBAAO,CAACiB,IAAR,CAAa,2CAAyC,KAAKb,IAAL,CAAUH,IAAnD,GAAwD,YAAxD,GAAqE,KAAKG,IAAL,CAAUO,QAA5F,EAAsGO,IAAtG,CAA2GC,GAAE,IAAI;AAC/G,gBAAGA,GAAG,CAACC,IAAJ,KAAa,GAAhB,EAAoB;AAClBrB,uBAAS,CAAC;AACRQ,uBAAO,EAAE,MADD;AAERc,oBAAI,EAAE;AAFE,eAAD,CAAT;AAIAC,4BAAc,CAACC,OAAf,CAAuB,MAAvB,EAA8BC,IAAI,CAACC,SAAL,CAAeN,GAAG,CAAChB,IAAnB,CAA9B,EALkB,CAKsC;;AACxD,mBAAKuB,OAAL,CAAaC,IAAb,CAAkB,UAAlB,EANkB,CAMY;AAC/B,aAPD,MAOK;AACH5B,uBAAS,CAAC;AACRQ,uBAAO,EAAEY,GAAG,CAACS,GADL;AAERP,oBAAI,EAAE;AAFE,eAAD,CAAT;AAIF;AACD,WAdD;AAeF;AACD,OAlBD;AAmBF;;AArBO;AAzCI,CAAf","names":["Avatar","Lock","ElMessage","request","name","components","data","form","rules","required","message","trigger","min","max","password","methods","login","$refs","validate","valid","post","then","res","code","type","sessionStorage","setItem","JSON","stringify","$router","push","msg"],"sourceRoot":"","sources":["D:\\JLSource\\软工实践2\\mars\\sept2-mars\\前端\\vue-demo01\\src\\views\\Login.vue"],"sourcesContent":["<template>\n  <div style=\"width: 100%;height: 100vh; background-color: lightskyblue; overflow: hidden\">\n    <div style=\"width: 400px;margin: 150px auto\">\n      <div style=\"color: aliceblue;font-size: 30px; text-align: center;padding: 30px 0\">欢迎登录</div>\n      <el-form ref=\"form\" :model=\"form\" label-width=\"40px\" :rules=\"rules\">\n        <el-form-item prop=\"name\" style=\"margin-left: 40px;margin-right: 40px;\">\n          <el-input placeholder=\"请输入用户名\" v-model=\"form.name\">\n            <template>\n              <el-icon style=\"margin-top: 13px\"><Avatar /></el-icon>\n            </template>\n          </el-input>\n        </el-form-item>\n        <el-form-item prop=\"password\" style=\"margin-left: 40px;margin-right: 40px;\">\n          <el-input placeholder=\"请输入密码\"\n                    icon=\"el-icon-search\" v-model=\"form.password\" show-password>\n            <template>\n              <el-icon style=\"margin-top: 13px\"><Lock /></el-icon>\n            </template>\n          </el-input>\n        </el-form-item>\n        <el-form-item style=\"margin-left: 40px;margin-right: 40px;\">\n          <el-button style=\"width: 100%;font-size: 20px\" type=\"primary\" @click=\"login\">登 录</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {Avatar,Lock} from '@element-plus/icons-vue'\nimport {ElMessage} from \"element-plus\";\nimport request from \"@/utils/request\";\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: \"Login\",\n  components: {\n    Avatar,\n    Lock\n  },\n  data() {\n    return {\n      form: {},\n      rules: {\n        name: [\n          {\n            required: true,\n            message: '请输入昵称',\n            trigger: 'blur',\n          },\n          {\n            min: 1,\n            max: 80,\n            message: '长度在一到八十位之间',\n            trigger: 'blur',\n          },\n        ],\n        password: [\n          {\n            required: true,\n            message: '请输入密码',\n            trigger: 'blur',\n          }\n          ,\n          {\n            min: 1,\n            max: 10,\n            message: '长度在六到八位之间',\n            trigger: 'blur',\n          },\n        ]\n      }\n    }\n  },\n  methods: {\n    login() {\n      this.$refs[\"form\"].validate((valid) => {\n        if (valid) {\n          request.post(\"http://localhost:9090/user/login?name=\"+this.form.name+\"&password=\"+this.form.password).then(res =>{\n            if(res.code === '0'){\n              ElMessage({\n                message: '登录成功',\n                type: 'success'\n              })\n              sessionStorage.setItem(\"user\",JSON.stringify(res.data)) //缓存用户信息\n              this.$router.push(\"/Product\") // 页面跳转\n            }else{\n              ElMessage({\n                message: res.msg,\n                type: 'error'\n              })\n            }\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n</style>"]},"metadata":{},"sourceType":"module"}