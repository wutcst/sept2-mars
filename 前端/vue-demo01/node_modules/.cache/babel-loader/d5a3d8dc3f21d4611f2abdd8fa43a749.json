{"ast":null,"code":"import { Avatar, Lock } from '@element-plus/icons-vue';\nimport { ElMessage } from \"element-plus\";\nimport request from \"@/utils/request\";\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: \"Login\",\n  components: {\n    Avatar,\n    Lock\n  },\n\n  data() {\n    return {\n      form: {},\n      rules: {\n        name: [{\n          required: true,\n          message: '请输入昵称',\n          trigger: 'blur'\n        }, {\n          min: 1,\n          max: 80,\n          message: '长度在一到八十位之间',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }, {\n          min: 1,\n          max: 10,\n          message: '长度在六到八位之间',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n\n  methods: {\n    login() {\n      this.$refs[\"form\"].validate(valid => {\n        if (valid) {\n          request.post(\"http://localhost:9090/user/login?name=\" + this.form.name + \"&password=\" + this.form.password).then(res => {\n            if (res.code === '0') {\n              ElMessage({\n                message: '登录成功',\n                type: 'success'\n              });\n              sessionStorage.setItem(\"user\", JSON.stringify(res.data)); //缓存用户信息\n\n              this.$router.push(\"/Product\"); // 页面跳转\n            } else {\n              ElMessage({\n                message: res.msg,\n                type: 'error'\n              });\n            }\n          });\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA6BA,SAAQA,MAAR,EAAeC,IAAf,QAA0B,yBAA1B;AACA,SAAQC,SAAR,QAAwB,cAAxB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AACA,eAAe;AACb;AACAC,MAAI,EAAE,OAFO;AAGbC,YAAU,EAAE;AACVL,UADU;AAEVC;AAFU,GAHC;;AAObK,MAAI,GAAG;AACL,WAAO;AACLC,UAAI,EAAE,EADD;AAELC,WAAK,EAAE;AACLJ,YAAI,EAAE,CACJ;AACEK,kBAAQ,EAAE,IADZ;AAEEC,iBAAO,EAAE,OAFX;AAGEC,iBAAO,EAAE;AAHX,SADI,EAMJ;AACEC,aAAG,EAAE,CADP;AAEEC,aAAG,EAAE,EAFP;AAGEH,iBAAO,EAAE,YAHX;AAIEC,iBAAO,EAAE;AAJX,SANI,CADD;AAcLG,gBAAQ,EAAE,CACR;AACEL,kBAAQ,EAAE,IADZ;AAEEC,iBAAO,EAAE,OAFX;AAGEC,iBAAO,EAAE;AAHX,SADQ,EAOR;AACEC,aAAG,EAAE,CADP;AAEEC,aAAG,EAAE,EAFP;AAGEH,iBAAO,EAAE,WAHX;AAIEC,iBAAO,EAAE;AAJX,SAPQ;AAdL;AAFF,KAAP;AAgCD,GAxCY;;AAyCbI,SAAO,EAAE;AACPC,SAAK,GAAG;AACN,WAAKC,KAAL,CAAW,MAAX,EAAmBC,QAAnB,CAA6BC,KAAD,IAAW;AACrC,YAAIA,KAAJ,EAAW;AACThB,iBAAO,CAACiB,IAAR,CAAa,2CAAyC,KAAKb,IAAL,CAAUH,IAAnD,GAAwD,YAAxD,GAAqE,KAAKG,IAAL,CAAUO,QAA5F,EAAsGO,IAAtG,CAA2GC,GAAE,IAAI;AAC/G,gBAAGA,GAAG,CAACC,IAAJ,KAAa,GAAhB,EAAoB;AAClBrB,uBAAS,CAAC;AACRQ,uBAAO,EAAE,MADD;AAERc,oBAAI,EAAE;AAFE,eAAD,CAAT;AAIAC,4BAAc,CAACC,OAAf,CAAuB,MAAvB,EAA8BC,IAAI,CAACC,SAAL,CAAeN,GAAG,CAAChB,IAAnB,CAA9B,EALkB,CAKsC;;AACxD,mBAAKuB,OAAL,CAAaC,IAAb,CAAkB,UAAlB,EANkB,CAMY;AAC/B,aAPD,MAOK;AACH5B,uBAAS,CAAC;AACRQ,uBAAO,EAAEY,GAAG,CAACS,GADL;AAERP,oBAAI,EAAE;AAFE,eAAD,CAAT;AAIF;AACD,WAdD;AAeF;AACD,OAlBD;AAmBF;;AArBO;AAzCI,CAAf","names":["Avatar","Lock","ElMessage","request","name","components","data","form","rules","required","message","trigger","min","max","password","methods","login","$refs","validate","valid","post","then","res","code","type","sessionStorage","setItem","JSON","stringify","$router","push","msg"],"sourceRoot":"","sources":["D:\\JLSource\\软工实践2\\sept2-mars\\前端\\vue-demo01\\src\\views\\Login.vue"],"sourcesContent":["<template>\r\n  <div style=\"width: 100%;height: 100vh; background-color: lightskyblue; overflow: hidden\">\r\n    <div style=\"width: 400px;margin: 150px auto\">\r\n      <div style=\"color: aliceblue;font-size: 30px; text-align: center;padding: 30px 0\">欢迎登录</div>\r\n      <el-form ref=\"form\" :model=\"form\" label-width=\"40px\" :rules=\"rules\">\r\n        <el-form-item prop=\"name\" style=\"margin-left: 40px;margin-right: 40px;\">\r\n          <el-input placeholder=\"请输入用户名\" v-model=\"form.name\">\r\n            <template>\r\n              <el-icon style=\"margin-top: 13px\"><Avatar /></el-icon>\r\n            </template>\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"password\" style=\"margin-left: 40px;margin-right: 40px;\">\r\n          <el-input placeholder=\"请输入密码\"\r\n                    icon=\"el-icon-search\" v-model=\"form.password\" show-password>\r\n            <template>\r\n              <el-icon style=\"margin-top: 13px\"><Lock /></el-icon>\r\n            </template>\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item style=\"margin-left: 40px;margin-right: 40px;\">\r\n          <el-button style=\"width: 100%;font-size: 20px\" type=\"primary\" @click=\"login\">登 录</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {Avatar,Lock} from '@element-plus/icons-vue'\r\nimport {ElMessage} from \"element-plus\";\r\nimport request from \"@/utils/request\";\r\nexport default {\r\n  // eslint-disable-next-line vue/multi-word-component-names\r\n  name: \"Login\",\r\n  components: {\r\n    Avatar,\r\n    Lock\r\n  },\r\n  data() {\r\n    return {\r\n      form: {},\r\n      rules: {\r\n        name: [\r\n          {\r\n            required: true,\r\n            message: '请输入昵称',\r\n            trigger: 'blur',\r\n          },\r\n          {\r\n            min: 1,\r\n            max: 80,\r\n            message: '长度在一到八十位之间',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            message: '请输入密码',\r\n            trigger: 'blur',\r\n          }\r\n          ,\r\n          {\r\n            min: 1,\r\n            max: 10,\r\n            message: '长度在六到八位之间',\r\n            trigger: 'blur',\r\n          },\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    login() {\r\n      this.$refs[\"form\"].validate((valid) => {\r\n        if (valid) {\r\n          request.post(\"http://localhost:9090/user/login?name=\"+this.form.name+\"&password=\"+this.form.password).then(res =>{\r\n            if(res.code === '0'){\r\n              ElMessage({\r\n                message: '登录成功',\r\n                type: 'success'\r\n              })\r\n              sessionStorage.setItem(\"user\",JSON.stringify(res.data)) //缓存用户信息\r\n              this.$router.push(\"/Product\") // 页面跳转\r\n            }else{\r\n              ElMessage({\r\n                message: res.msg,\r\n                type: 'error'\r\n              })\r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>"]},"metadata":{},"sourceType":"module"}