{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-35171425\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"a\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"Room\");\n\nconst _hoisted_3 = {\n  class: \"b\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\"WEST \");\n\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\"EAST \");\n\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"NORTH\");\n\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\"SOUTH\");\n\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\"TAKE\");\n\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\"rule\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_image = _resolveComponent(\"el-image\");\n\n  const _component_el_descriptions_item = _resolveComponent(\"el-descriptions-item\");\n\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n\n  const _component_el_descriptions = _resolveComponent(\"el-descriptions\");\n\n  const _component_el_button = _resolveComponent(\"el-button\");\n\n  const _component_el_row = _resolveComponent(\"el-row\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_el_image, {\n    style: {\n      \"width\": \"100%\",\n      \"height\": \"790px\"\n    },\n    src: $data.url\n  }, null, 8\n  /* PROPS */\n  , [\"src\"]), _createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_el_descriptions, {\n    title: \"\",\n    column: 3,\n    border: \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_descriptions_item, {\n      label: \"房间名\",\n      \"label-align\": \"right\",\n      align: \"center\",\n      \"label-class-name\": \"my-label\",\n      \"class-name\": \"my-content\",\n      width: \"150px\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.location), 1\n      /* TEXT */\n      )]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_descriptions_item, {\n      label: \"gold\",\n      \"label-align\": \"right\",\n      align: \"center\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.gold), 1\n      /* TEXT */\n      )]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_descriptions_item, {\n      label: \"coin\",\n      \"label-align\": \"right\",\n      align: \"center\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.coin), 1\n      /* TEXT */\n      )]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_descriptions_item, {\n      label: \"Remarks\",\n      \"label-align\": \"right\",\n      align: \"center\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_tag, {\n        size: \"small\"\n      }, {\n        default: _withCtx(() => [_hoisted_2]),\n        _: 1\n        /* STABLE */\n\n      })]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_descriptions_item, {\n      label: \"房间描述信息\",\n      \"label-align\": \"right\",\n      align: \"center\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.descriptions), 1\n      /* TEXT */\n      )]),\n      _: 1\n      /* STABLE */\n\n    })]),\n    _: 1\n    /* STABLE */\n\n  })]), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_row, {\n    class: \"mb-4\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_button, {\n      type: \"success\",\n      plain: \"\",\n      onClick: $options.west\n    }, {\n      default: _withCtx(() => [_hoisted_4]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"onClick\"]), _createVNode(_component_el_button, {\n      type: \"success\",\n      plain: \"\",\n      onClick: $options.east\n    }, {\n      default: _withCtx(() => [_hoisted_5]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"onClick\"]), _createVNode(_component_el_button, {\n      type: \"success\",\n      plain: \"\",\n      onClick: $options.north\n    }, {\n      default: _withCtx(() => [_hoisted_6]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"onClick\"]), _createVNode(_component_el_button, {\n      type: \"success\",\n      plain: \"\",\n      onClick: $options.south\n    }, {\n      default: _withCtx(() => [_hoisted_7]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"onClick\"]), _createVNode(_component_el_button, {\n      type: \"warning\",\n      plain: \"\",\n      onClick: $options.take\n    }, {\n      default: _withCtx(() => [_hoisted_8]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"onClick\"]), _createVNode(_component_el_button, {\n      type: \"primary\",\n      plain: \"\",\n      onClick: $options.open\n    }, {\n      default: _withCtx(() => [_hoisted_9]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"onClick\"]), _createCommentVNode(\"        <el-button type=\\\"primary\\\" plain @click=\\\"open\\\">SAVE</el-button>\")]),\n    _: 1\n    /* STABLE */\n\n  })]), _createCommentVNode(\"  <el-empty\"), _createCommentVNode(\"      image=\\\"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png\\\"\"), _createCommentVNode(\"  >\"), _createCommentVNode(\"  </el-empty>\"), _createCommentVNode(\"  <div class=\\\"demo-image\\\">\"), _createCommentVNode(\"      <el-image style=\\\"width: 100px; height: 100px\\\" :src=\\\"url\\\" />\"), _createCommentVNode(\"  </div>\")], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["class","_createVNode","_component_el_image","style","src","$data","_createElementVNode","_component_el_descriptions","title","column","border","_component_el_descriptions_item","label","align","width","_component_el_tag","size","_component_el_row","_component_el_button","type","plain","onClick","$options","_createCommentVNode"],"sourceRoot":"","sources":["D:\\JLSource\\软工实践2\\sept2-mars\\前端\\vue-demo01\\src\\views\\Product.vue"],"sourcesContent":["<template>\r\n  <el-image style=\"width: 100%; height:790px\" :src=\"url\" />\r\n  <div class=\"a\">\r\n  <el-descriptions title=\"\" :column=\"3\" border>\r\n    <el-descriptions-item\r\n        label=\"房间名\"\r\n        label-align=\"right\"\r\n        align=\"center\"\r\n        label-class-name=\"my-label\"\r\n        class-name=\"my-content\"\r\n        width=\"150px\"\r\n    >{{location}}</el-descriptions-item\r\n    >\r\n    <el-descriptions-item label=\"gold\" label-align=\"right\" align=\"center\"\r\n    >{{gold}}</el-descriptions-item\r\n    >\r\n    <el-descriptions-item label=\"coin\" label-align=\"right\" align=\"center\"\r\n    >{{coin}}</el-descriptions-item\r\n    >\r\n    <el-descriptions-item label=\"Remarks\" label-align=\"right\" align=\"center\">\r\n      <el-tag size=\"small\">Room</el-tag>\r\n    </el-descriptions-item>\r\n    <el-descriptions-item label=\"房间描述信息\" label-align=\"right\" align=\"center\"\r\n    >{{descriptions}}</el-descriptions-item\r\n    >\r\n  </el-descriptions>\r\n  </div>\r\n  <div class=\"b\">\r\n      <el-row class=\"mb-4\">\r\n        <el-button type=\"success\" plain @click=\"west\">WEST </el-button>\r\n        <el-button type=\"success\" plain @click=\"east\">EAST </el-button>\r\n        <el-button type=\"success\" plain @click=\"north\">NORTH</el-button>\r\n        <el-button type=\"success\" plain @click=\"south\">SOUTH</el-button>\r\n        <el-button type=\"warning\" plain @click=\"take\">TAKE</el-button>\r\n        <el-button type=\"primary\" plain @click=\"open\">rule</el-button>\r\n<!--        <el-button type=\"primary\" plain @click=\"open\">SAVE</el-button>-->\r\n      </el-row>\r\n  </div>\r\n<!--  <el-empty-->\r\n<!--      image=\"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png\"-->\r\n<!--  >-->\r\n<!--  </el-empty>-->\r\n<!--  <div class=\"demo-image\">-->\r\n<!--      <el-image style=\"width: 100px; height: 100px\" :src=\"url\" />-->\r\n<!--  </div>-->\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\nexport default {\r\n  // eslint-disable-next-line vue/multi-word-component-names\r\n  name: \"product\",\r\n  data(){\r\n    return{\r\n      url:'https://img.zcool.cn/community/01e2ae5a08faa2a80121985ca51755.jpg@2o.jpg',\r\n      form:{},\r\n      dialogVisible:false,\r\n      dialogVisible2:false,\r\n      currentPage:1,\r\n      pageSize:10,\r\n      total:10,\r\n      search:'',\r\n      tableData:[],\r\n      rooms:[{'name':'outside','id':1,'gold':'1','coin':'1','descriptions':'outside the main entrance of the university'},\r\n        {'name':'theater','id':2,'gold':'2','coin':'-1','descriptions':'in a lecture theater'},\r\n        {'name':'pub','id':3,'gold':'4','coin':'8','descriptions':'in the campus pub'},\r\n        {'name':'lab','id':4,'gold':'3','coin':'-2','descriptions':'in a computing lab'},\r\n        {'name':'office','id':5,'gold':'5','coin':'6','descriptions':'in the computing admin office'},\r\n        {'name':'randomRoom','id':6,'gold':'0','coin':'0','descriptions':'in a randomRoom'}],\r\n      location:'',\r\n      gold:'',\r\n      coin:'',\r\n      descriptions:'',\r\n      id:'',\r\n      maps:[[0,2,3], [4,6,5], [0,1,0]]\r\n    }\r\n  },\r\n  created() {\r\n    this.load()\r\n  },\r\n  methods:{\r\n    open(){\r\n      this.$notify({\r\n        title: '游戏规则说明',\r\n        message: '巨洞探险：一个精彩的、充满想像力的复杂游戏，包括要在一个复杂的洞穴系统中找到出路、寻找隐藏的财宝、使用暗语和其他一些神秘工具，最终的目的是获得高分。',\r\n        duration: 4500\r\n      });\r\n    },\r\n    getRandomInt1(min, max) {\r\n  min = Math.ceil(min);\r\n  max = Math.floor(max);\r\n  return Math.floor(Math.random() * (max - min)) + min; //不含最大值，含最小值\r\n     },\r\n\r\nload(){\r\n      request.get(\"/user\"\r\n      ).then(res=>{\r\n        this.tableData=res.data.records\r\n        this.total=res.data.total\r\n        let user=JSON.parse(sessionStorage.getItem(\"user\"))\r\n        for(let data in res.data.records){\r\n          if(res.data.records[data].id===user[\"id\"]){\r\n            this.location=res.data.records[data].currentroom\r\n          }\r\n        }\r\n        for(let index in this.rooms){\r\n            let map=this.rooms[index]\r\n            if(map['name']===this.location){\r\n              this.gold=map['gold']\r\n              this.coin=map['coin']\r\n              this.descriptions=map['descriptions']\r\n              this.id=map['id']\r\n          }\r\n        }\r\n        if(this.location===\"randomRoom\"){\r\n          alert(\"您处于随机房间，将会被传送离开\")\r\n          let a=this.getRandomInt1(1,5)\r\n          // alert(a)\r\n          if(a===1){\r\n            this.west()\r\n          }else if(a===2){\r\n            this.east()\r\n          }else if(a===3){\r\n            this.north()\r\n          }else if(a===4){\r\n            this.south()\r\n          }\r\n        }\r\n      })\r\n    },\r\n    take(){\r\n      // this.load()\r\n      let oldgold\r\n      let oldcoin\r\n      request.get(\"/user\"\r\n      ).then(res=>{\r\n        let user=JSON.parse(sessionStorage.getItem(\"user\"))\r\n        for(let data in res.data.records){\r\n          if(res.data.records[data].id===user[\"id\"]){\r\n            oldgold=res.data.records[data].gold\r\n            oldcoin=res.data.records[data].coin\r\n          }\r\n        }\r\n        // oldgold=res.data.records[0].gold\r\n        // oldcoin=res.data.records[0].coin\r\n        let gold=(parseInt(oldgold)+parseInt(this.gold)).toString()\r\n        let coin=(parseInt(oldcoin)+parseInt(this.coin)).toString()\r\n        let data={\"id\":user[\"id\"],\"name\":user[\"name\"],\"password\":user[\"password\"],\"gender\":user[\"gender\"],\"currentroom\":res.data.records[0].currentroom,\"gold\":gold,\"coin\":coin}\r\n        request.put(\"/user\",data).then(res => {\r\n          console.log(res)\r\n          if(res.code===\"0\"){\r\n            this.$message({\r\n              type:\"success\",\r\n              message:\"gold+\"+this.gold+\"  coin\"+this.coin\r\n            })\r\n          }else {\r\n            this.$message({\r\n              type:\"error\",\r\n              message:res.msg\r\n            })\r\n          }\r\n          this.load()\r\n        })\r\n      })\r\n\r\n    },\r\n    west(){\r\n      let id=this.id\r\n      let x;\r\n      let y;\r\n      for(let i=0;i<3;i++){\r\n        for(let j=0;j<3;j++){\r\n          if(this.maps[i][j]===id){\r\n            x=i;\r\n            y=j;\r\n          }\r\n        }\r\n      }\r\n      y=y-1\r\n      if(x>=0&&y>=0&&x<=2&&y<=2&&this.maps[x][y]!==0){\r\n        for(let index in this.rooms){\r\n          let map=this.rooms[index]\r\n          if(map['id']===this.maps[x][y]){\r\n            // this.gold=map['gold']\r\n            // this.coin=map['coin']\r\n            // this.descriptions=map['descriptions']\r\n            this.location=map['name']\r\n            request.get(\"/user\"\r\n            ).then(res=>{\r\n            let user=JSON.parse(sessionStorage.getItem(\"user\"))\r\n            let data={\"id\":user[\"id\"],\"name\":user[\"name\"],\"password\":user[\"password\"],\"gender\":user[\"gender\"],\"currentroom\":this.location,\"gold\":res.data.records[0].gold,\"coin\":res.data.records[0].coin}\r\n            request.put(\"/user\",data).then(res => {\r\n              if(res.code===\"0\"){\r\n                this.$message({\r\n                  type:\"success\",\r\n                  message:\"成功\"\r\n                })\r\n              }else {\r\n                this.$message({\r\n                  type:\"error\",\r\n                  message:res.msg\r\n                })\r\n              }\r\n              this.load()\r\n            })\r\n            })\r\n          }\r\n        }\r\n        // this.load()\r\n      }else {\r\n        alert(\"此路不通\")\r\n      }\r\n\r\n\r\n    },\r\n    east(){\r\n      let id=this.id\r\n      let x;\r\n      let y;\r\n      for(let i=0;i<3;i++){\r\n        for(let j=0;j<3;j++){\r\n          if(this.maps[i][j]===id){\r\n            x=i;\r\n            y=j;\r\n          }\r\n        }\r\n      }\r\n      y=y+1\r\n      if(x>=0&&y>=0&&x<=2&&y<=2&&this.maps[x][y]!==0){\r\n        for(let index in this.rooms){\r\n          let map=this.rooms[index]\r\n          if(map['id']===this.maps[x][y]){\r\n            // this.gold=map['gold']\r\n            // this.coin=map['coin']\r\n            // this.descriptions=map['descriptions']\r\n            this.location=map['name']\r\n            // this.id=map['id']\r\n            request.get(\"/user\"\r\n            ).then(res=>{\r\n              let user=JSON.parse(sessionStorage.getItem(\"user\"))\r\n              let data={\"id\":user[\"id\"],\"name\":user[\"name\"],\"password\":user[\"password\"],\"gender\":user[\"gender\"],\"currentroom\":this.location,\"gold\":res.data.records[0].gold,\"coin\":res.data.records[0].coin}\r\n              request.put(\"/user\",data).then(res => {\r\n                if(res.code===\"0\"){\r\n                  this.$message({\r\n                    type:\"success\",\r\n                    message:\"成功\"\r\n                  })\r\n                }else {\r\n                  this.$message({\r\n                    type:\"error\",\r\n                    message:res.msg\r\n                  })\r\n                }\r\n                this.load()\r\n              })\r\n            })\r\n          }\r\n        }\r\n        // this.load()\r\n      }else {\r\n        alert(\"此路不通\")\r\n      }\r\n    },\r\n    north(){\r\n      let id=this.id\r\n      let x;\r\n      let y;\r\n      for(let i=0;i<3;i++){\r\n        for(let j=0;j<3;j++){\r\n          if(this.maps[i][j]===id){\r\n            x=i;\r\n            y=j;\r\n          }\r\n        }\r\n      }\r\n      x=x-1\r\n      if(x>=0&&y>=0&&x<=2&&y<=2&&this.maps[x][y]!==0){\r\n        for(let index in this.rooms){\r\n          let map=this.rooms[index]\r\n          if(map['id']===this.maps[x][y]){\r\n            // this.gold=map['gold']\r\n            // this.coin=map['coin']\r\n            // this.descriptions=map['descriptions']\r\n            this.location=map['name']\r\n            // this.id=map['id']\r\n            request.get(\"/user\"\r\n            ).then(res=>{\r\n              let user=JSON.parse(sessionStorage.getItem(\"user\"))\r\n              let data={\"id\":user[\"id\"],\"name\":user[\"name\"],\"password\":user[\"password\"],\"gender\":user[\"gender\"],\"currentroom\":this.location,\"gold\":res.data.records[0].gold,\"coin\":res.data.records[0].coin}\r\n              request.put(\"/user\",data).then(res => {\r\n                if(res.code===\"0\"){\r\n                  this.$message({\r\n                    type:\"success\",\r\n                    message:\"成功\"\r\n                  })\r\n                }else {\r\n                  this.$message({\r\n                    type:\"error\",\r\n                    message:res.msg\r\n                  })\r\n                }\r\n                this.load()\r\n              })\r\n            })\r\n          }\r\n        }\r\n        // this.load()\r\n      }else {\r\n        alert(\"此路不通\")\r\n      }\r\n\r\n\r\n    },\r\n    south(){\r\n      let id=this.id\r\n      let x;\r\n      let y;\r\n      for(let i=0;i<3;i++){\r\n        for(let j=0;j<3;j++){\r\n          if(this.maps[i][j]===id){\r\n            x=i;\r\n            y=j;\r\n          }\r\n        }\r\n      }\r\n      x=x+1\r\n      if(x>=0&&y>=0&&x<=2&&y<=2&&this.maps[x][y]!==0){\r\n        for(let index in this.rooms){\r\n          let map=this.rooms[index]\r\n          if(map['id']===this.maps[x][y]){\r\n            // this.gold=map['gold']\r\n            // this.coin=map['coin']\r\n            // this.descriptions=map['descriptions']\r\n            this.location=map['name']\r\n            // this.id=map['id']\r\n            request.get(\"/user\"\r\n            ).then(res=>{\r\n              let user=JSON.parse(sessionStorage.getItem(\"user\"))\r\n              let data={\"id\":user[\"id\"],\"name\":user[\"name\"],\"password\":user[\"password\"],\"gender\":user[\"gender\"],\"currentroom\":this.location,\"gold\":res.data.records[0].gold,\"coin\":res.data.records[0].coin}\r\n              request.put(\"/user\",data).then(res => {\r\n                if(res.code===\"0\"){\r\n                  this.$message({\r\n                    type:\"success\",\r\n                    message:\"成功\"\r\n                  })\r\n                }else {\r\n                  this.$message({\r\n                    type:\"error\",\r\n                    message:res.msg\r\n                  })\r\n                }\r\n                this.load()\r\n              })\r\n            })\r\n          }\r\n        }\r\n        // this.load()\r\n      }else {\r\n        alert(\"此路不通\")\r\n      }\r\n\r\n    },\r\n    add(){\r\n      this.dialogVisible=true,\r\n          this.form={}\r\n    },\r\n    save(){\r\n      if(this.form.id){\r\n        request.put(\"/user\",this.form).then(res => {\r\n          console.log(res)\r\n          if(res.code===\"0\"){\r\n            this.$message({\r\n              type:\"success\",\r\n              message:\"更新成功\"\r\n            })\r\n          }else {\r\n            this.$message({\r\n              type:\"error\",\r\n              message:res.msg\r\n            })\r\n          }\r\n          this.load()\r\n          this.dialogVisible=false\r\n        })\r\n      }\r\n    },\r\n    // eslint-disable-next-line no-unused-vars\r\n    handleEdit(row){\r\n      this.form = JSON.parse(JSON.stringify(row))\r\n      this.dialogVisible = true\r\n    },\r\n    handleEdit2(){\r\n      this.dialogVisible2 = true\r\n    },\r\n    handleDelete(id){\r\n      request.delete(\"/product/\"+id).then(res=>{\r\n        if(res.code===\"0\"){\r\n          this.$message({\r\n            type:\"success\",\r\n            message:\"删除成功\"\r\n          })\r\n        }else {\r\n          this.$message({\r\n            type:\"error\",\r\n            message:res.msg\r\n          })\r\n        }\r\n        this.load()\r\n      })\r\n    },\r\n    handleSizeChange(pageSize){\r\n      this.pageSize=pageSize\r\n      this.load()\r\n    },\r\n    handleCurrentChange(pageNum){\r\n      this.currentPage=pageNum\r\n      this.load()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.a{\r\n  margin: auto;\r\n  position: absolute;\r\n  top: 50px;\r\n  left: 200px;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n.b{\r\n  margin: auto;\r\n  position: absolute;\r\n  top: 160px;\r\n  left: 500px;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}