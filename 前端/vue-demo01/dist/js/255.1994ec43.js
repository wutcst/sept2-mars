"use strict";(self["webpackChunkvue_demo01"]=self["webpackChunkvue_demo01"]||[]).push([[255],{3255:function(e,l,a){a.r(l),a.d(l,{default:function(){return D}});var o=a(3396);const t={style:{padding:"10px"}},i={style:{margin:"10px 0",display:"flex"}},d=(0,o.Uk)("权限等级说明"),s=(0,o.Uk)("新增用户"),m=(0,o.Uk)("修改权限"),r=(0,o.Uk)("删除"),u={style:{margin:"10px 0"}},n=(0,o.Uk)("超级管理员"),p=(0,o.Uk)("产品管理员"),g=(0,o.Uk)("质检员"),h=(0,o.Uk)("普通用户"),f={class:"dialog-footer"},c=(0,o.Uk)("取消"),V=(0,o.Uk)("确定"),w=(0,o.Uk)("超级管理员"),b=(0,o.Uk)("产品管理员"),k=(0,o.Uk)("质检员"),W=(0,o.Uk)("普通用户"),_={class:"dialog-footer"},C=(0,o.Uk)("取消"),U=(0,o.Uk)("确定");function v(e,l,a,v,y,z){const S=(0,o.up)("el-button"),x=(0,o.up)("el-table-column"),D=(0,o.up)("el-popconfirm"),$=(0,o.up)("el-table"),P=(0,o.up)("el-pagination"),Z=(0,o.up)("el-radio"),A=(0,o.up)("el-form-item"),N=(0,o.up)("el-form"),E=(0,o.up)("el-dialog"),J=(0,o.up)("el-input");return(0,o.wg)(),(0,o.iD)("div",t,[(0,o._)("div",i,[(0,o.Wm)(S,{type:"primary",onClick:z.open},{default:(0,o.w5)((()=>[d])),_:1},8,["onClick"]),(0,o.Wm)(S,{type:"primary",onClick:z.adduser},{default:(0,o.w5)((()=>[s])),_:1},8,["onClick"])]),(0,o.Wm)($,{data:y.tableData,stripe:"",style:{width:"100%"},border:""},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{prop:"id",label:"ID",width:"150",sortable:""}),(0,o.Wm)(x,{prop:"name",label:"用户名",width:"300"}),(0,o.Wm)(x,{prop:"phone",label:"联系电话",width:"300"}),(0,o.Wm)(x,{prop:"level",label:"权限等级",width:"300"}),(0,o.Wm)(x,{fixed:"right",label:"操作",width:"169"},{default:(0,o.w5)((e=>[(0,o.Wm)(S,{type:"text",size:"small",onClick:l=>z.handleEdit(e.row)},{default:(0,o.w5)((()=>[m])),_:2},1032,["onClick"]),(0,o.Wm)(D,{title:"确定删除吗?",onConfirm:l=>z.handleDelete(e.row.id)},{reference:(0,o.w5)((()=>[(0,o.Wm)(S,{type:"text",size:"small"},{default:(0,o.w5)((()=>[r])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),(0,o._)("div",u,[(0,o.Wm)(P,{currentPage:y.currentPage,"onUpdate:currentPage":l[0]||(l[0]=e=>y.currentPage=e),"page-size":y.pageSize,"onUpdate:page-size":l[1]||(l[1]=e=>y.pageSize=e),"page-sizes":[5,10,15,20],small:0,disabled:!1,background:!0,layout:"total, sizes, prev, pager, next, jumper",total:y.total,onSizeChange:z.handleSizeChange,onCurrentChange:z.handleCurrentChange},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])]),(0,o.Wm)(E,{modelValue:y.dialogVisible,"onUpdate:modelValue":l[6]||(l[6]=e=>y.dialogVisible=e),title:"修改权限",width:"30%",onClose:z.closeAddDialog},{footer:(0,o.w5)((()=>[(0,o._)("span",f,[(0,o.Wm)(S,{onClick:z.closeAddDialog},{default:(0,o.w5)((()=>[c])),_:1},8,["onClick"]),(0,o.Wm)(S,{type:"primary",onClick:z.save},{default:(0,o.w5)((()=>[V])),_:1},8,["onClick"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(N,{model:y.form,"label-width":"120px"},{default:(0,o.w5)((()=>[(0,o.Wm)(A,{label:"权限等级",style:{width:"80%"}},{default:(0,o.w5)((()=>[(0,o.Wm)(Z,{modelValue:y.form.level,"onUpdate:modelValue":l[2]||(l[2]=e=>y.form.level=e),label:"1",size:"large"},{default:(0,o.w5)((()=>[n])),_:1},8,["modelValue"]),(0,o.Wm)(Z,{modelValue:y.form.level,"onUpdate:modelValue":l[3]||(l[3]=e=>y.form.level=e),label:"2",size:"large"},{default:(0,o.w5)((()=>[p])),_:1},8,["modelValue"]),(0,o.Wm)(Z,{modelValue:y.form.level,"onUpdate:modelValue":l[4]||(l[4]=e=>y.form.level=e),label:"3",size:"large"},{default:(0,o.w5)((()=>[g])),_:1},8,["modelValue"]),(0,o.Wm)(Z,{modelValue:y.form.level,"onUpdate:modelValue":l[5]||(l[5]=e=>y.form.level=e),label:"4",size:"large"},{default:(0,o.w5)((()=>[h])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","onClose"]),(0,o.Wm)(E,{modelValue:y.dialogVisible2,"onUpdate:modelValue":l[14]||(l[14]=e=>y.dialogVisible2=e),title:"新增用户",width:"30%"},{footer:(0,o.w5)((()=>[(0,o._)("span",_,[(0,o.Wm)(S,{onClick:l[13]||(l[13]=e=>y.dialogVisible2=!1)},{default:(0,o.w5)((()=>[C])),_:1}),(0,o.Wm)(S,{type:"primary",onClick:z.save},{default:(0,o.w5)((()=>[U])),_:1},8,["onClick"])])])),default:(0,o.w5)((()=>[(0,o.Wm)(N,{model:y.form,"label-width":"120px"},{default:(0,o.w5)((()=>[(0,o.Wm)(A,{label:"用户名",style:{width:"80%"}},{default:(0,o.w5)((()=>[(0,o.Wm)(J,{modelValue:y.form.name,"onUpdate:modelValue":l[7]||(l[7]=e=>y.form.name=e)},null,8,["modelValue"])])),_:1}),(0,o.Wm)(A,{label:"权限等级",style:{width:"80%"}},{default:(0,o.w5)((()=>[(0,o.Wm)(Z,{modelValue:y.form.level,"onUpdate:modelValue":l[8]||(l[8]=e=>y.form.level=e),label:"1",size:"large"},{default:(0,o.w5)((()=>[w])),_:1},8,["modelValue"]),(0,o.Wm)(Z,{modelValue:y.form.level,"onUpdate:modelValue":l[9]||(l[9]=e=>y.form.level=e),label:"2",size:"large"},{default:(0,o.w5)((()=>[b])),_:1},8,["modelValue"]),(0,o.Wm)(Z,{modelValue:y.form.level,"onUpdate:modelValue":l[10]||(l[10]=e=>y.form.level=e),label:"3",size:"large"},{default:(0,o.w5)((()=>[k])),_:1},8,["modelValue"]),(0,o.Wm)(Z,{modelValue:y.form.level,"onUpdate:modelValue":l[11]||(l[11]=e=>y.form.level=e),label:"4",size:"large"},{default:(0,o.w5)((()=>[W])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(A,{label:"联系电话",style:{width:"80%"}},{default:(0,o.w5)((()=>[(0,o.Wm)(J,{modelValue:y.form.phone,"onUpdate:modelValue":l[12]||(l[12]=e=>y.form.phone=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}var y=a(4471),z={name:"User",data(){return{form:{},dialogVisible:!1,dialogVisible2:!1,currentPage:1,pageSize:10,total:10,search:"",tableData:[]}},created(){this.load()},methods:{open(){this.$notify({title:"权限等级说明",message:"1：超级管理员  2：产品管理员  3：质检员  4：普通用户",duration:4500})},load(){y.Z.get("/user?pageNum="+this.currentPage+"&pageSize="+this.pageSize+"&search="+this.search).then((e=>{this.tableData=e.data.records,this.total=e.data.total}))},add(){this.dialogVisible=!0,this.form={}},adduser(){this.dialogVisible2=!0},closeAddDialog(){this.dialogVisible=!1,this.form=this.$options.data().form},save(){this.form.id?y.Z.put("/user",this.form).then((e=>{console.log(e),"0"==e.code?this.$message({type:"success",message:"更新成功"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogVisible=!1})):y.Z.post("/user",this.form).then((e=>{console.log(e),"0"==e.code?this.$message({type:"success",message:"新增成功"}):this.$message({type:"error",message:e.msg}),this.load(),this.form=this.$options.data().form,this.dialogVisible2=!1}))},handleEdit(e){this.form=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0},handleDelete(e){y.Z["delete"]("/user/"+e).then((e=>{"0"==e.code?this.$message({type:"success",message:"删除成功"}):this.$message({type:"error",message:e.msg}),this.load()}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.currentPage=e,this.load()}}},S=a(89);const x=(0,S.Z)(z,[["render",v]]);var D=x}}]);
//# sourceMappingURL=255.1994ec43.js.map