"use strict";(self["webpackChunkvue_demo01"]=self["webpackChunkvue_demo01"]||[]).push([[174],{6174:function(e,l,a){a.r(l),a.d(l,{default:function(){return y}});var t=a(3396);const o={style:{padding:"10px"}},d={style:{margin:"10px 0",display:"flex"}},i=(0,t.Uk)("新增厂商"),m=(0,t.Uk)("编辑"),s=(0,t.Uk)("删除"),r={style:{margin:"10px 0"}},n={class:"dialog-footer"},u=(0,t.Uk)("取消"),p=(0,t.Uk)("确定"),h={class:"dialog-footer"},f=(0,t.Uk)("取消"),g=(0,t.Uk)("确定");function c(e,l,a,c,w,b){const V=(0,t.up)("el-button"),W=(0,t.up)("el-table-column"),y=(0,t.up)("el-popconfirm"),_=(0,t.up)("el-table"),C=(0,t.up)("el-pagination"),k=(0,t.up)("el-input"),U=(0,t.up)("el-form-item"),z=(0,t.up)("el-form"),v=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.iD)("div",o,[(0,t._)("div",d,[(0,t.Wm)(V,{type:"primary",onClick:b.handleEdit2},{default:(0,t.w5)((()=>[i])),_:1},8,["onClick"])]),(0,t.Wm)(_,{data:w.tableData,stripe:"",style:{width:"100%"},border:""},{default:(0,t.w5)((()=>[(0,t.Wm)(W,{prop:"id",label:"ID",width:"150",sortable:""}),(0,t.Wm)(W,{prop:"name",label:"厂商名称",width:"150"}),(0,t.Wm)(W,{prop:"telephone",label:"厂商电话",width:"150"}),(0,t.Wm)(W,{prop:"companyAddress",label:"厂商地址",width:"150"}),(0,t.Wm)(W,{prop:"factoryAddress",label:"工厂地址",width:"150"}),(0,t.Wm)(W,{prop:"web",label:"厂商网站",width:"150"}),(0,t.Wm)(W,{prop:"legalrepresentative",label:"法人代表",width:"150"}),(0,t.Wm)(W,{fixed:"right",label:"操作",width:"170"},{default:(0,t.w5)((e=>[(0,t.Wm)(V,{type:"text",size:"small",onClick:l=>b.handleEdit(e.row)},{default:(0,t.w5)((()=>[m])),_:2},1032,["onClick"]),(0,t.Wm)(y,{title:"确定删除吗?",onConfirm:l=>b.handleDelete(e.row.id)},{reference:(0,t.w5)((()=>[(0,t.Wm)(V,{type:"text",size:"small"},{default:(0,t.w5)((()=>[s])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),(0,t._)("div",r,[(0,t.Wm)(C,{currentPage:w.currentPage,"onUpdate:currentPage":l[0]||(l[0]=e=>w.currentPage=e),"page-size":w.pageSize,"onUpdate:page-size":l[1]||(l[1]=e=>w.pageSize=e),"page-sizes":[5,10,15,20],small:0,disabled:!1,background:!0,layout:"total, sizes, prev, pager, next, jumper",total:w.total,onSizeChange:b.handleSizeChange,onCurrentChange:b.handleCurrentChange},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])]),(0,t.Wm)(v,{modelValue:w.dialogVisible,"onUpdate:modelValue":l[6]||(l[6]=e=>w.dialogVisible=e),title:"编辑",width:"30%"},{footer:(0,t.w5)((()=>[(0,t._)("span",n,[(0,t.Wm)(V,{onClick:l[5]||(l[5]=e=>w.dialogVisible=!1)},{default:(0,t.w5)((()=>[u])),_:1}),(0,t.Wm)(V,{type:"primary",onClick:b.save},{default:(0,t.w5)((()=>[p])),_:1},8,["onClick"])])])),default:(0,t.w5)((()=>[(0,t.Wm)(z,{model:w.form,"label-width":"120px"},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{label:"厂商名称",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{modelValue:w.form.name,"onUpdate:modelValue":l[2]||(l[2]=e=>w.form.name=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(U,{label:"厂商电话",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{modelValue:w.form.telephone,"onUpdate:modelValue":l[3]||(l[3]=e=>w.form.telephone=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(U,{label:"网址",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{modelValue:w.form.web,"onUpdate:modelValue":l[4]||(l[4]=e=>w.form.web=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,t.Wm)(v,{modelValue:w.dialogVisible2,"onUpdate:modelValue":l[14]||(l[14]=e=>w.dialogVisible2=e),title:"新增厂商",width:"30%"},{footer:(0,t.w5)((()=>[(0,t._)("span",h,[(0,t.Wm)(V,{onClick:l[13]||(l[13]=e=>w.dialogVisible=!1)},{default:(0,t.w5)((()=>[f])),_:1}),(0,t.Wm)(V,{type:"primary",onClick:b.save},{default:(0,t.w5)((()=>[g])),_:1},8,["onClick"])])])),default:(0,t.w5)((()=>[(0,t.Wm)(z,{model:w.form,"label-width":"120px"},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{label:"厂商名称",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{modelValue:w.form.name,"onUpdate:modelValue":l[7]||(l[7]=e=>w.form.name=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(U,{label:"厂商电话",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{modelValue:w.form.telephone,"onUpdate:modelValue":l[8]||(l[8]=e=>w.form.telephone=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(U,{label:"厂商地址",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{modelValue:w.form.companyAddress,"onUpdate:modelValue":l[9]||(l[9]=e=>w.form.companyAddress=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(U,{label:"工场地址",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{modelValue:w.form.factoryAddress,"onUpdate:modelValue":l[10]||(l[10]=e=>w.form.factoryAddress=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(U,{label:"网址",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{modelValue:w.form.web,"onUpdate:modelValue":l[11]||(l[11]=e=>w.form.web=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(U,{label:"法人代表",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{modelValue:w.form.legalrepresentative,"onUpdate:modelValue":l[12]||(l[12]=e=>w.form.legalrepresentative=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}var w=a(4471),b={name:"Manufacturer",data(){return{form:{},dialogVisible:!1,dialogVisible2:!1,currentPage:1,pageSize:10,total:10,search:"",tableData:[]}},created(){this.load()},methods:{load(){w.Z.post("/manufacturer/queryByLimit?pageNum="+this.currentPage+"&pageSize="+this.pageSize+"&search="+this.search).then((e=>{this.tableData=e.data.records,this.total=e.data.total}))},add(){this.dialogVisible=!0,this.form={}},save(){this.form.id?w.Z.put("/manufacturer",this.form).then((e=>{console.log(e),"0"===e.code?this.$message({type:"success",message:"更新成功"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogVisible=!1})):w.Z.post("/manufacturer",this.form).then((e=>{console.log(e),"0"===e.code?this.$message({type:"success",message:"新增成功"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogVisible2=!1}))},handleEdit(e){this.form=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0},handleEdit2(){this.dialogVisible2=!0},handleDelete(e){w.Z["delete"]("/manufacturer/"+e).then((e=>{"0"===e.code?this.$message({type:"success",message:"删除成功"}):this.$message({type:"error",message:e.msg}),this.load()}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.currentPage=e,this.load()}}},V=a(89);const W=(0,V.Z)(b,[["render",c]]);var y=W}}]);
//# sourceMappingURL=174.b53c4046.js.map