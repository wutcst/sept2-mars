"use strict";(self["webpackChunkvue_demo01"]=self["webpackChunkvue_demo01"]||[]).push([[514],{7514:function(e,l,a){a.r(l),a.d(l,{default:function(){return y}});var t=a(3396);const o={style:{padding:"10px"}},d={style:{margin:"10px 0",display:"flex"}},m=(0,t.Uk)("新增产品"),i=(0,t.Uk)("编辑"),r=(0,t.Uk)("删除"),u={style:{margin:"10px 0"}},s={class:"dialog-footer"},n=(0,t.Uk)("取消"),p=(0,t.Uk)("确定"),f={class:"dialog-footer"},h=(0,t.Uk)("取消"),V=(0,t.Uk)("确定");function c(e,l,a,c,w,b){const g=(0,t.up)("el-button"),W=(0,t.up)("el-table-column"),y=(0,t.up)("el-popconfirm"),_=(0,t.up)("el-table"),C=(0,t.up)("el-pagination"),U=(0,t.up)("el-input"),x=(0,t.up)("el-form-item"),k=(0,t.up)("el-form"),v=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.iD)("div",o,[(0,t._)("div",d,[(0,t.Wm)(g,{type:"primary",onClick:b.handleEdit2},{default:(0,t.w5)((()=>[m])),_:1},8,["onClick"])]),(0,t.Wm)(_,{data:w.tableData,stripe:"",style:{width:"100%"},border:""},{default:(0,t.w5)((()=>[(0,t.Wm)(W,{prop:"id",label:"ID",width:"75px",sortable:""}),(0,t.Wm)(W,{prop:"name",label:"产品名称",width:"90px"}),(0,t.Wm)(W,{prop:"company",label:"公司名称",width:"90px"}),(0,t.Wm)(W,{prop:"partNumber",label:"物料编号",width:"90px"}),(0,t.Wm)(W,{prop:"specifications",label:"规格",width:"90px"}),(0,t.Wm)(W,{prop:"reinforcement",label:"配筋",width:"90px"}),(0,t.Wm)(W,{prop:"abbreviationCode",label:"简码号",width:"90px"}),(0,t.Wm)(W,{prop:"dateOfManufacture",label:"生产日期",width:"90px"}),(0,t.Wm)(W,{prop:"shift",label:"生产班次",width:"90px"}),(0,t.Wm)(W,{prop:"shiftLeader",label:"生产班长",width:"90px"}),(0,t.Wm)(W,{prop:"examiner",label:"质检员",width:"90px"}),(0,t.Wm)(W,{prop:"state",label:"产品状态",width:"90px"}),(0,t.Wm)(W,{fixed:"right",label:"操作",width:"155px"},{default:(0,t.w5)((e=>[(0,t.Wm)(g,{type:"text",size:"small",onClick:l=>b.handleEdit(e.row)},{default:(0,t.w5)((()=>[i])),_:2},1032,["onClick"]),(0,t.Wm)(y,{title:"确定删除吗?",onConfirm:l=>b.handleDelete(e.row.id)},{reference:(0,t.w5)((()=>[(0,t.Wm)(g,{type:"text",size:"small"},{default:(0,t.w5)((()=>[r])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),(0,t._)("div",u,[(0,t.Wm)(C,{currentPage:w.currentPage,"onUpdate:currentPage":l[0]||(l[0]=e=>w.currentPage=e),"page-size":w.pageSize,"onUpdate:page-size":l[1]||(l[1]=e=>w.pageSize=e),"page-sizes":[5,10,15,20],small:0,disabled:!1,background:!0,layout:"total, sizes, prev, pager, next, jumper",total:w.total,onSizeChange:b.handleSizeChange,onCurrentChange:b.handleCurrentChange},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])]),(0,t.Wm)(v,{modelValue:w.dialogVisible,"onUpdate:modelValue":l[13]||(l[13]=e=>w.dialogVisible=e),title:"编辑",width:"30%",onClose:b.closeAddDialog},{footer:(0,t.w5)((()=>[(0,t._)("span",s,[(0,t.Wm)(g,{onClick:b.closeAddDialog},{default:(0,t.w5)((()=>[n])),_:1},8,["onClick"]),(0,t.Wm)(g,{type:"primary",onClick:b.save},{default:(0,t.w5)((()=>[p])),_:1},8,["onClick"])])])),default:(0,t.w5)((()=>[(0,t.Wm)(k,{model:w.form,"label-width":"120px"},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{label:"产品名称",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.name,"onUpdate:modelValue":l[2]||(l[2]=e=>w.form.name=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"公司名称",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.company,"onUpdate:modelValue":l[3]||(l[3]=e=>w.form.company=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"物料编号",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.partNumber,"onUpdate:modelValue":l[4]||(l[4]=e=>w.form.partNumber=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"规格",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.specifications,"onUpdate:modelValue":l[5]||(l[5]=e=>w.form.specifications=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"配筋",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.reinforcement,"onUpdate:modelValue":l[6]||(l[6]=e=>w.form.reinforcement=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"简码号",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.abbreviationCode,"onUpdate:modelValue":l[7]||(l[7]=e=>w.form.abbreviationCode=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"生产日期",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.dateOfManufacture,"onUpdate:modelValue":l[8]||(l[8]=e=>w.form.dateOfManufacture=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"生产班次",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.shift,"onUpdate:modelValue":l[9]||(l[9]=e=>w.form.shift=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"生产班长",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.shiftLeader,"onUpdate:modelValue":l[10]||(l[10]=e=>w.form.shiftLeader=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"质检员",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.examiner,"onUpdate:modelValue":l[11]||(l[11]=e=>w.form.examiner=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"产品状态",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.state,"onUpdate:modelValue":l[12]||(l[12]=e=>w.form.state=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","onClose"]),(0,t.Wm)(v,{modelValue:w.dialogVisible2,"onUpdate:modelValue":l[26]||(l[26]=e=>w.dialogVisible2=e),title:"新增产品",width:"30%"},{footer:(0,t.w5)((()=>[(0,t._)("span",f,[(0,t.Wm)(g,{onClick:l[25]||(l[25]=e=>w.dialogVisible=!1)},{default:(0,t.w5)((()=>[h])),_:1}),(0,t.Wm)(g,{type:"primary",onClick:b.save},{default:(0,t.w5)((()=>[V])),_:1},8,["onClick"])])])),default:(0,t.w5)((()=>[(0,t.Wm)(k,{model:w.form,"label-width":"120px"},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{label:"产品名称",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.name,"onUpdate:modelValue":l[14]||(l[14]=e=>w.form.name=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"公司名称",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.company,"onUpdate:modelValue":l[15]||(l[15]=e=>w.form.company=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"物料编号",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.partNumber,"onUpdate:modelValue":l[16]||(l[16]=e=>w.form.partNumber=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"规格",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.specifications,"onUpdate:modelValue":l[17]||(l[17]=e=>w.form.specifications=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"配筋",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.reinforcement,"onUpdate:modelValue":l[18]||(l[18]=e=>w.form.reinforcement=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"简码号",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.abbreviationCode,"onUpdate:modelValue":l[19]||(l[19]=e=>w.form.abbreviationCode=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"生产日期",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.dateOfManufacture,"onUpdate:modelValue":l[20]||(l[20]=e=>w.form.dateOfManufacture=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"生产班次",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.shift,"onUpdate:modelValue":l[21]||(l[21]=e=>w.form.shift=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"生产班长",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.shiftLeader,"onUpdate:modelValue":l[22]||(l[22]=e=>w.form.shiftLeader=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"质检员",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.examiner,"onUpdate:modelValue":l[23]||(l[23]=e=>w.form.examiner=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"产品状态",style:{width:"80%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{modelValue:w.form.state,"onUpdate:modelValue":l[24]||(l[24]=e=>w.form.state=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}var w=a(4471),b={name:"product",data(){return{form:{},dialogVisible:!1,dialogVisible2:!1,currentPage:1,pageSize:10,total:10,search:"",tableData:[]}},created(){this.load()},methods:{load(){w.Z.post("/product/queryByLimit?pageNum="+this.currentPage+"&pageSize="+this.pageSize+"&search="+this.search).then((e=>{this.tableData=e.data.records,this.total=e.data.total}))},add(){this.dialogVisible=!0,this.form={}},closeAddDialog(){this.dialogVisible=!1,this.form=this.$options.data().form},save(){this.form.id?w.Z.put("/product",this.form).then((e=>{console.log(e),"0"===e.code?this.$message({type:"success",message:"更新成功"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogVisible=!1})):w.Z.post("/product",this.form).then((e=>{console.log(e),"0"===e.code?this.$message({type:"success",message:"新增成功"}):this.$message({type:"error",message:e.msg}),this.load(),this.form=this.$options.data().form,this.dialogVisible2=!1}))},handleEdit(e){this.form=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0},handleEdit2(){this.dialogVisible2=!0},handleDelete(e){w.Z["delete"]("/product/"+e).then((e=>{"0"===e.code?this.$message({type:"success",message:"删除成功"}):this.$message({type:"error",message:e.msg}),this.load()}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.currentPage=e,this.load()}}},g=a(89);const W=(0,g.Z)(b,[["render",c]]);var y=W}}]);
//# sourceMappingURL=514.1f4bf040.js.map